{
  if (pictureByteArrayId != null) {
    Context.getCommandContext().getDbSqlSession().delete(ByteArrayEntity.class,pictureByteArrayId);
  }
  if (picture != null) {
    pictureByteArray=new ByteArrayEntity(picture.getMimeType(),picture.getBytes());
    Context.getCommandContext().getDbSqlSession().insert(pictureByteArray);
    pictureByteArrayId=pictureByteArray.getId();
  }
 else {
    pictureByteArrayId=null;
    pictureByteArray=null;
  }
}
