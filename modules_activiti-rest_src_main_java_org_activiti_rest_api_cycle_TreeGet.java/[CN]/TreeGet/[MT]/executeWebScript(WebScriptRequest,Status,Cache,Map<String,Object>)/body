{
  String cuid=getCurrentUserId(req);
  HttpSession session=((WebScriptServletRequest)req).getHttpServletRequest().getSession(true);
  RepositoryConnector conn=SessionUtil.getRepositoryConnector(cuid,session);
  String id=getString(req,"id");
  boolean folder=Boolean.parseBoolean(getString(req,"folder"));
  if (folder) {
    try {
      RepositoryNodeCollection children=conn.getChildren(id);
      model.put("files",children.getArtifactList());
      model.put("folders",children.getFolderList());
    }
 catch (    RepositoryException e) {
      log.log(Level.SEVERE,"Cannot load children for id '" + id + "'",e);
    }
  }
  model.put("files",new ArrayList<RepositoryArtifact>());
  model.put("folders",new ArrayList<RepositoryFolder>());
}
