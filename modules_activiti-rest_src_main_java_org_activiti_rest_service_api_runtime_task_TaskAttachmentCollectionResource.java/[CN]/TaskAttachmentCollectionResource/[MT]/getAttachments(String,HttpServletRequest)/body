{
  List<AttachmentResponse> result=new ArrayList<AttachmentResponse>();
  HistoricTaskInstance task=getHistoricTaskFromRequest(taskId);
  String serverRootUrl=request.getRequestURL().toString();
  serverRootUrl=serverRootUrl.substring(0,serverRootUrl.indexOf("/runtime/tasks/"));
  for (  Attachment attachment : taskService.getTaskAttachments(task.getId())) {
    result.add(restResponseFactory.createAttachmentResponse(attachment,serverRootUrl));
  }
  return result;
}
