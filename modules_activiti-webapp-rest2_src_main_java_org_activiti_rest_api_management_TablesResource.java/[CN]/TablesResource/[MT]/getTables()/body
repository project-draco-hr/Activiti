{
  if (authenticate(SecuredResource.ADMIN) == false)   return null;
  Map<String,Long> tableCounts=ActivitiUtil.getManagementService().getTableCount();
  ArrayList<String> tableNames=new ArrayList<String>(tableCounts.keySet());
  Collections.sort(tableNames);
  ObjectNode responseJSON=new ObjectMapper().createObjectNode();
  ArrayNode tablesJSON=new ObjectMapper().createArrayNode();
  responseJSON.put("data",tablesJSON);
  for (  String tableName : tableNames) {
    ObjectNode tableJSON=new ObjectMapper().createObjectNode();
    tableJSON.put("tableName",tableName);
    tableJSON.put("total",tableCounts.get(tableName));
    tablesJSON.add(tableJSON);
  }
  return responseJSON;
}
