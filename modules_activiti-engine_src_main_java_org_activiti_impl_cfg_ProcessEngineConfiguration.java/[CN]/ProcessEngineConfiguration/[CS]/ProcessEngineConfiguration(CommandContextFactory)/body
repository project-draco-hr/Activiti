{
  this.commandContextFactory=commandContextFactory == null ? createDefaultCommandContextFactory() : commandContextFactory;
  commandExecutor=createDefaultCmdExecutor(this.commandContextFactory);
  expressionManager=createDefaultExpressionManager();
  scriptingEngines=createDefaultScriptingEngines();
  businessCalendarManager=createDefaultBusinessCalendarManager();
  deployerManager=createDefaultDeployerManager(expressionManager,scriptingEngines,businessCalendarManager);
  variableTypes=createDefaultVariableTypes();
  dbSchemaStrategy=createDefaultDbSchemaStrategy();
  jobExecutorAutoActivate=createDefaultJobExecutorAutoActivate();
  jobHandlers=createDefaultJobHandlers();
  jobExecutor=createDefaultJobExecutor(commandExecutor,jobHandlers);
  idGenerator=createDefaultIdGenerator(commandExecutor);
  processService=createDefaultProcessService(commandExecutor,deployerManager,scriptingEngines);
  identityService=createDefaultIdentityService(commandExecutor);
  taskService=createDefaultTaskService(commandExecutor,scriptingEngines);
  managementService=createDefaultManagementService(commandExecutor);
  persistenceSessionFactory=createDefaultPersistenceSessionFactory(variableTypes,idGenerator);
  messageSessionFactory=createDefaultMessageSessionFactory(jobExecutor);
  timerSessionFactory=createDefaultTimerSessionFactory(jobExecutor);
  transactionContextFactory=createDefaultTransactionContextFactory();
}
