{
  ObjectProcessDefinition processDefinition=ProcessDefinitionBuilder.createProcessDefinitionBuilder().createActivity("start").initial().behavior(new Automatic()).transition("unscopedA").endActivity().createActivity("unscopedA").behavior(new WaitState()).transition("scopedB").endActivity().createActivity("scopedB").scope().behavior(new WaitState()).transition("unscopedC").endActivity().createActivity("unscopedC").behavior(new WaitState()).endActivity().build();
  ObjectProcessInstance processInstance=processDefinition.createProcessInstance();
  processInstance.start();
  ObjectExecution executionInUnscopedA=processInstance.findExecution("unscopedA");
  assertNotNull(executionInUnscopedA);
  assertSame(processInstance,executionInUnscopedA);
  executionInUnscopedA.event(null);
  ObjectExecution executionInScopedB=processInstance.findExecution("scopedB");
  assertNotNull(executionInScopedB);
  assertNotSame(processInstance,executionInScopedB);
  executionInScopedB.event(null);
  ObjectExecution executionInUnscopedC=processInstance.findExecution("unscopedC");
  assertNotNull(executionInUnscopedC);
  assertSame(processInstance,executionInUnscopedC);
}
