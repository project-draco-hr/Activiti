{
  if (jobExecutor == null) {
    jobExecutor=new DefaultJobExecutor();
  }
  jobHandlers=new HashMap<String,JobHandler>();
  TimerExecuteNestedActivityJobHandler timerExecuteNestedActivityJobHandler=new TimerExecuteNestedActivityJobHandler();
  jobHandlers.put(timerExecuteNestedActivityJobHandler.getType(),timerExecuteNestedActivityJobHandler);
  TimerCatchIntermediateEventJobHandler timerCatchIntermediateEvent=new TimerCatchIntermediateEventJobHandler();
  jobHandlers.put(timerCatchIntermediateEvent.getType(),timerCatchIntermediateEvent);
  TimerStartEventJobHandler timerStartEvent=new TimerStartEventJobHandler();
  jobHandlers.put(timerStartEvent.getType(),timerStartEvent);
  AsyncContinuationJobHandler asyncContinuationJobHandler=new AsyncContinuationJobHandler();
  jobHandlers.put(asyncContinuationJobHandler.getType(),asyncContinuationJobHandler);
  ProcessEventJobHandler processEventJobHandler=new ProcessEventJobHandler();
  jobHandlers.put(processEventJobHandler.getType(),processEventJobHandler);
  if (getCustomJobHandlers() != null) {
    for (    JobHandler customJobHandler : getCustomJobHandlers()) {
      jobHandlers.put(customJobHandler.getType(),customJobHandler);
    }
  }
  jobExecutor.setCommandExecutor(commandExecutorTxRequired);
  jobExecutor.setAutoActivate(jobExecutorActivate);
  if (jobExecutor.getRejectedJobsHandler() == null) {
    if (customRejectedJobsHandler != null) {
      jobExecutor.setRejectedJobsHandler(customRejectedJobsHandler);
    }
 else {
      jobExecutor.setRejectedJobsHandler(new CallerRunsRejectedJobsHandler());
    }
  }
}
