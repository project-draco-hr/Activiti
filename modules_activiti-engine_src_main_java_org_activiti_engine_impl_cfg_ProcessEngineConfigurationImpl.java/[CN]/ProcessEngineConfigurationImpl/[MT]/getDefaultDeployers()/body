{
  List<Deployer> defaultDeployers=new ArrayList<Deployer>();
  BpmnDeployer bpmnDeployer=new BpmnDeployer();
  bpmnDeployer.setExpressionManager(expressionManager);
  bpmnDeployer.setIdGenerator(idGenerator);
  if (bpmnParseFactory == null) {
    bpmnParseFactory=new DefaultBpmnParseFactory();
  }
  if (activityBehaviorFactory == null) {
    DefaultActivityBehaviorFactory defaultActivityBehaviorFactory=new DefaultActivityBehaviorFactory();
    defaultActivityBehaviorFactory.setExpressionManager(expressionManager);
    activityBehaviorFactory=defaultActivityBehaviorFactory;
  }
  if (listenerFactory == null) {
    DefaultListenerFactory defaultListenerFactory=new DefaultListenerFactory();
    defaultListenerFactory.setExpressionManager(expressionManager);
    listenerFactory=defaultListenerFactory;
  }
  BpmnParser bpmnParser=new BpmnParser();
  bpmnParser.setExpressionManager(expressionManager);
  bpmnParser.setBpmnParseFactory(bpmnParseFactory);
  bpmnParser.setActivityBehaviorFactory(activityBehaviorFactory);
  bpmnParser.setListenerFactory(listenerFactory);
  if (preParseListeners != null) {
    bpmnParser.getParseListeners().addAll(preParseListeners);
  }
  bpmnParser.getParseListeners().addAll(getDefaultBPMNParseListeners());
  if (postParseListeners != null) {
    bpmnParser.getParseListeners().addAll(postParseListeners);
  }
  bpmnDeployer.setBpmnParser(bpmnParser);
  defaultDeployers.add(bpmnDeployer);
  return defaultDeployers;
}
