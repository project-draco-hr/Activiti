{
  log.fine("                                                                                                    ");
  log.fine("--- starting command " + ClassNameUtil.getClassNameWithoutPackage(command) + " --------------------------------------------------------");
  try {
    return new InternalCommandInterceptorChain(interceptors,contextAwareInterceptors,commandContextFactory).execute(command);
  }
 catch (  Throwable exception) {
    if (exception instanceof RuntimeException) {
      throw (RuntimeException)exception;
    }
 else     if (exception instanceof Error) {
      throw (Error)exception;
    }
    throw new ActivitiException("Command failed with unknown exception.",exception);
  }
 finally {
    log.fine("--- command " + ClassNameUtil.getClassNameWithoutPackage(command) + " finished --------------------------------------------------------");
    log.fine("                                                                                                    ");
  }
}
