{
  Map<String,Object> processVariables=new HashMap<String,Object>();
  processVariables.put("var1","This is a ProcVariable");
  ProcessInstance processInstance=runtimeService.startProcessInstanceByKey("oneTaskProcess",processVariables);
  Task task=taskService.createTaskQuery().processInstanceId(processInstance.getId()).singleResult();
  Map<String,Object> taskVariables=new HashMap<String,Object>();
  taskVariables.put("var1","This is a TaskVariable");
  taskVariables.put("var2",123);
  taskService.setVariablesLocal(task.getId(),taskVariables);
  assertEquals(2,taskService.getVariablesLocal(task.getId()).size());
  ClientResource client=getAuthenticatedClient(RestUrls.createRelativeResourceUrl(RestUrls.URL_TASK_VARIABLES_COLLECTION,task.getId()));
  Representation response=client.delete();
  assertEquals(Status.SUCCESS_NO_CONTENT,client.getResponse().getStatus());
  assertEquals(0,response.getSize());
  assertEquals(0,taskService.getVariablesLocal(task.getId()).size());
  assertEquals(1,taskService.getVariables(task.getId()).size());
}
