{
  RuntimeSession runtimeSession=commandContext.getRuntimeSession();
  String lockOwner=jobExecutor.getLockOwner();
  int lockTimeInMillis=jobExecutor.getLockTimeInMillis();
  int maxJobsPerAcquisition=jobExecutor.getMaxJobsPerAcquisition();
  AcquiredJobs acquiredJobs=new AcquiredJobs();
  List<JobEntity> jobs=runtimeSession.findNextJobsToExecute(maxJobsPerAcquisition);
  for (  JobEntity job : jobs) {
    List<String> jobIds=new ArrayList<String>();
    if (job != null) {
      job.setLockOwner(lockOwner);
      GregorianCalendar gregorianCalendar=new GregorianCalendar();
      gregorianCalendar.setTime(ClockUtil.getCurrentTime());
      gregorianCalendar.add(Calendar.MILLISECOND,lockTimeInMillis);
      job.setLockExpirationTime(gregorianCalendar.getTime());
      jobIds.add(job.getId());
      if (job.isExclusive()) {
      }
    }
    acquiredJobs.addJobIds(jobIds);
  }
  return acquiredJobs;
}
