{
  HttpSession httpSession=req.getHttpServletRequest().getSession(true);
  String cuid=req.getCurrentUserId();
  PluginFinder.registerServletContext(httpSession.getServletContext());
  CycleComponentFactory.registerServletContext(httpSession.getServletContext());
  CycleSessionContext.setContext(new HttpSessionContext(httpSession));
  CycleSessionContext.set("cuid",cuid);
  for (  CycleRequestFilter requestFilter : requestFilters) {
    requestFilter.doFilter(req);
  }
}
