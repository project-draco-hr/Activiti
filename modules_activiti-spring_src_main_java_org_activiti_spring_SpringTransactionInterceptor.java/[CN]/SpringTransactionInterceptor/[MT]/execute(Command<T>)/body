{
  TransactionTemplate transactionTemplate=new TransactionTemplate(transactionManager);
  transactionTemplate.setPropagationBehavior(transactionPropagation);
  T result=(T)transactionTemplate.execute(new TransactionCallback(){
    public Object doInTransaction(    TransactionStatus status){
      return next.execute(command);
    }
  }
);
  return result;
}
