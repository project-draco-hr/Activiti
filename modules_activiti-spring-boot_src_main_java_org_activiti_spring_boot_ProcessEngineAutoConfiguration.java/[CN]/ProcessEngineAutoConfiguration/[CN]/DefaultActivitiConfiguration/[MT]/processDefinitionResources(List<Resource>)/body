{
  List<Resource> resources;
  String prefix, suffix;
  try {
    prefix=defaultText(activitiProperties.getProcessDefinitionLocationPrefix(),PROCESS_DEFINITIONS_DEFAULT_PREFIX);
    suffix=defaultText(activitiProperties.getProcessDefinitionLocationSuffix(),PROCESS_DEFINITIONS_DEFAULT_SUFFIX);
    String path=prefix + suffix;
    boolean checkProcDefs=activitiProperties.isCheckProcessDefinitions();
    if (checkProcDefs) {
      Assert.state(this.applicationContext.getResource(prefix).exists(),String.format("No process definitions were found deployed at %s. Are you actually using Activiti? ",path));
    }
    resources=Arrays.asList(this.applicationContext.getResources(path));
    if (log.isInfoEnabled()) {
      log.info(String.format("found %s process definitions in %s.",resources.size(),prefix));
      for (      Resource resource : resources) {
        log.info(String.format("found process definition: %s",resource.getURI().toString()));
      }
    }
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  resourceList.addAll(resources);
}
