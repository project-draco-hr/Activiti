{
  List<Resource> procDefResources=this.discoverProcessDefinitionResources(this.resourceLoader,this.activitiProperties.getProcessDefinitionLocationPrefix(),this.activitiProperties.getProcessDefinitionLocationSuffix(),this.activitiProperties.isCheckProcessDefinitions());
  SpringProcessEngineConfiguration conf=super.processEngineConfigurationBean(procDefResources.toArray(new Resource[procDefResources.size()]),dataSource,transactionManager,springJobExecutor);
  conf.setDeploymentName(defaultText(activitiProperties.getDeploymentName(),conf.getDeploymentName()));
  conf.setDatabaseSchema(defaultText(activitiProperties.getDatabaseSchema(),conf.getDatabaseSchema()));
  conf.setDatabaseSchemaUpdate(defaultText(activitiProperties.getDatabaseSchemaUpdate(),conf.getDatabaseSchemaUpdate()));
  return conf;
}
