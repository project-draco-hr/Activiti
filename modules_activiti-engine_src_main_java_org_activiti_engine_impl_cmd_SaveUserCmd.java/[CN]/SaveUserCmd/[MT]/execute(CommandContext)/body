{
  if (user == null) {
    throw new ActivitiIllegalArgumentException("user is null");
  }
  if (user.getRevision() == 0) {
    commandContext.getUserIdentityManager().insertUser(user);
  }
 else {
    commandContext.getUserIdentityManager().updateUser(user);
  }
  return null;
}
