{
  try {
    ArrayList<RepositoryNode> nodes=new ArrayList<RepositoryNode>();
    try {
      Response directoryResponse=getJsonResponse(getConfiguration().getDirectoryUrl(id));
      JsonRepresentation jsonData=new JsonRepresentation(directoryResponse.getEntity());
      JSONArray relJsonArray=jsonData.toJsonArray();
      if (log.isLoggable(Level.FINEST)) {
        RestClientLogHelper.logJSONArray(log,Level.FINEST,relJsonArray);
      }
      for (int i=0; i < relJsonArray.length(); i++) {
        JSONObject relObject=relJsonArray.getJSONObject(i);
        if ("dir".equals(relObject.getString("rel"))) {
          RepositoryFolder folderInfo=getFolderInfo(relObject);
          nodes.add(folderInfo);
        }
 else         if ("mod".equals(relObject.getString("rel"))) {
          RepositoryArtifact fileInfo=getArtifactInfoFromFolderLink(relObject);
          nodes.add(fileInfo);
        }
      }
    }
 catch (    RepositoryException e) {
      nodes=getModelsFromOryxBackend();
    }
    return new RepositoryNodeCollectionImpl(nodes);
  }
 catch (  Exception ex) {
    throw new RepositoryNodeNotFoundException(getConfiguration().getName(),RepositoryFolder.class,id,ex);
  }
}
