{
  checkLoggedIn();
  try {
    ArrayList<RepositoryNode> nodes=new ArrayList<RepositoryNode>();
    if (getConfiguration() instanceof OryxConnectorConfiguration) {
      nodes=getChildrenFromOryxBackend(id);
    }
 else {
      Response directoryResponse=getJsonResponse(getConfiguration().getDirectoryUrl(id));
      JsonRepresentation jsonData=new JsonRepresentation(directoryResponse.getEntity());
      JSONArray relJsonArray=jsonData.getJsonArray();
      if (log.isLoggable(Level.FINEST)) {
        RestClientLogHelper.logJSONArray(log,Level.FINEST,relJsonArray);
      }
      for (int i=0; i < relJsonArray.length(); i++) {
        JSONObject relObject=relJsonArray.getJSONObject(i);
        if ("dir".equals(relObject.getString("rel"))) {
          RepositoryFolder folderInfo=getFolderInfo(relObject);
          nodes.add(folderInfo);
        }
 else         if ("mod".equals(relObject.getString("rel"))) {
          RepositoryArtifact fileInfo=getArtifactInfoFromFolderLink(relObject);
          nodes.add(fileInfo);
        }
      }
      Collections.sort(nodes,new Comparator<RepositoryNode>(){
        public int compare(        RepositoryNode arg0,        RepositoryNode arg1){
          return arg0.getMetadata().getName().compareTo(arg1.getMetadata().getName());
        }
      }
);
    }
    return new RepositoryNodeCollectionImpl(nodes);
  }
 catch (  Exception ex) {
    throw new RepositoryNodeNotFoundException(getConfiguration().getName(),RepositoryFolder.class,id,ex);
  }
}
