{
  if (!"dir".equals(jsonDirectoryObject.getString("rel")) && !"info".equals(jsonDirectoryObject.getString("rel"))) {
    throw new RepositoryException(jsonDirectoryObject + " is not a directory");
  }
  String directoryName=jsonDirectoryObject.getJSONObject("rep").getString("name");
  if (jsonDirectoryObject.getJSONObject("rep").has("type")) {
    String type=jsonDirectoryObject.getJSONObject("rep").optString("type");
    if ("public".equals(type)) {
      directoryName="Public";
    }
    if ("private".equals(type)) {
      directoryName="Private";
    }
  }
  log.finest("Directoryname: " + directoryName);
  String href=jsonDirectoryObject.getString("href");
  String id=null;
  if (href.endsWith("/info")) {
    id=getConfiguration().getDirectoryIdFromInfoUrl(href);
  }
 else {
    id=getConfiguration().getDirectoryIdFromUrl(href);
  }
  RepositoryFolderImpl folderInfo=new RepositoryFolderImpl(getConfiguration().getId(),id);
  folderInfo.getMetadata().setName(directoryName);
  String parent=jsonDirectoryObject.getJSONObject("rep").optString("parent");
  if (parent != null) {
    String parentId=getConfiguration().getDirectoryIdFromUrl(parent);
    folderInfo.getMetadata().setParentFolderId(parentId);
  }
  return folderInfo;
}
