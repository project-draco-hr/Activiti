{
  Response directoryResponse=getJsonResponse(conf.getDirectoryUrl());
  JsonRepresentation jsonData=new JsonRepresentation(directoryResponse.getEntity());
  JSONArray rootJsonArray=jsonData.toJsonArray();
  if (log.isLoggable(Level.FINEST)) {
    SignavioLogHelper.logJSONArray(log,rootJsonArray);
  }
  for (int i=0; i < rootJsonArray.length(); i++) {
    JSONObject rootObject=rootJsonArray.getJSONObject(i);
    if ("public".equals(rootObject.getJSONObject("rep").get("type"))) {
      return rootObject;
    }
  }
  if (log.isLoggable(Level.FINEST)) {
    SignavioLogHelper.logCookieAndBody(log,directoryResponse);
  }
  throw new RepositoryException("No directory root found in signavio repository.");
}
