{
  if (!getConfiguration().isLoginRequired()) {
    return true;
  }
  if (getConfiguration().isCredentialsSaved()) {
    username=getConfiguration().getUser();
    password=getConfiguration().getPassword();
  }
  try {
    log.info("Logging into Signavio on url: " + getConfiguration().getLoginUrl());
    Form loginForm=new Form();
    loginForm.add("name",username);
    loginForm.add("password",password);
    loginForm.add("tokenonly","true");
    Representation loginRep=loginForm.getWebRepresentation();
    Request loginRequest=new Request(Method.POST,getConfiguration().getLoginUrl(),loginRep);
    Response loginResponse=sendRequest(loginRequest);
    Representation representation=loginResponse.getEntity();
    setSecurityToken(representation.getText());
    log.fine("SecurityToken: " + getSecurityToken());
    return true;
  }
 catch (  Exception ex) {
    throw new RepositoryException("Error during login to connector '" + getConfiguration().getName() + "'",ex);
  }
}
