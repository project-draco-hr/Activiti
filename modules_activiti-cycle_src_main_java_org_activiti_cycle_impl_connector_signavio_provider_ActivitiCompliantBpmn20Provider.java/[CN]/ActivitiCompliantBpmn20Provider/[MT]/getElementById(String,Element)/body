{
  if (element.getAttribute("id") != null && element.getAttribute("id").equals(referencedElementId)) {
    return element;
  }
  NodeList childNodes=element.getChildNodes();
  Element result;
  for (int i=0; i < childNodes.getLength(); i++) {
    Node childNode=childNodes.item(i);
    if (childNode instanceof Element) {
      if ((result=getElementById(referencedElementId,(Element)childNode)) != null) {
        return result;
      }
    }
  }
  return null;
}
