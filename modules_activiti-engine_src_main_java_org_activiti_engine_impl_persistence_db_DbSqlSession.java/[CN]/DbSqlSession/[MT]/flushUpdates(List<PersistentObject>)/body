{
  for (  PersistentObject updatedObject : updatedObjects) {
    Class<?> updatedObjectClass=updatedObject.getClass();
    String updateStatement=dbSqlSessionFactory.getUpdateStatements().get(updatedObjectClass);
    updateStatement=dbSqlSessionFactory.mapStatement(updateStatement);
    if (updateStatement == null) {
      throw new ActivitiException("no update statement for " + updatedObject.getClass() + " in the ibatis mapping files");
    }
    log.fine("updating: " + toString(updatedObject) + "]");
    sqlSession.update(updateStatement,updatedObject);
  }
  updatedObjects.clear();
}
