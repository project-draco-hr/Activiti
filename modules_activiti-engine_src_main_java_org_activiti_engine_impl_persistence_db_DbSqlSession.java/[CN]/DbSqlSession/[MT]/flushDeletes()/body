{
  for (  Object delete : deletedObjects) {
    if (delete instanceof BulkDeleteOperation) {
      BulkDeleteOperation bulkDeleteOperation=(BulkDeleteOperation)delete;
      String bulkDeleteStatement=dbSqlSessionFactory.mapStatement(bulkDeleteOperation.statement);
      log.fine("bulk deleting: " + bulkDeleteStatement);
      sqlSession.delete(bulkDeleteStatement,bulkDeleteOperation.parameter);
    }
 else {
      PersistentObject persistentObject=(PersistentObject)delete;
      String deleteStatement=dbSqlSessionFactory.getDeleteStatement(persistentObject);
      deleteStatement=dbSqlSessionFactory.mapStatement(deleteStatement);
      if (deleteStatement == null) {
        throw new ActivitiException("no delete statement for " + delete.getClass() + " in the ibatis mapping files");
      }
      log.fine("deleting: " + toString(persistentObject));
      sqlSession.delete(deleteStatement,persistentObject);
    }
  }
  deletedObjects.clear();
}
