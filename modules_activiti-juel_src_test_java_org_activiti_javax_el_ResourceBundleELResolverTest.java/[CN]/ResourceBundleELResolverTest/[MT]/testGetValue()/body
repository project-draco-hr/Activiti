{
  Integer scalar=0;
  ResourceBundle bundle=sampleBundle();
  ResourceBundleELResolver resolver=new ResourceBundleELResolver();
  context.setPropertyResolved(false);
  assertNull(resolver.getValue(context,null,"foo"));
  assertFalse(context.isPropertyResolved());
  context.setPropertyResolved(false);
  assertNull(resolver.getValue(context,scalar,"foo"));
  assertFalse(context.isPropertyResolved());
  context.setPropertyResolved(false);
  assertEquals(2,resolver.getValue(context,bundle,1));
  assertTrue(context.isPropertyResolved());
  context.setPropertyResolved(false);
  assertEquals("???foo???",resolver.getValue(context,bundle,"foo"));
  assertTrue(context.isPropertyResolved());
  context.setPropertyResolved(false);
  assertNull(resolver.getValue(context,bundle,null));
  assertTrue(context.isPropertyResolved());
}
