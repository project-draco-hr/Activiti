{
  for (  ServletRegistration servletRegistration : this.applicationContext.getBeansOfType(ServletRegistration.class).values()) {
    System.out.println(servletRegistration);
  }
  String authenticationChallenge="http://localhost:8080/api/process-definitions";
  RestTemplate restTemplate=this.applicationContext.getBean(RestTemplate.class);
  final AtomicBoolean received403=new AtomicBoolean();
  received403.set(false);
  restTemplate.setErrorHandler(new ResponseErrorHandler(){
    @Override public boolean hasError(    ClientHttpResponse clientHttpResponse) throws IOException {
      return true;
    }
    @Override public void handleError(    ClientHttpResponse clientHttpResponse) throws IOException {
      if (clientHttpResponse.getStatusCode().equals(HttpStatus.FORBIDDEN))       received403.set(true);
    }
  }
);
  restTemplate.getForEntity(authenticationChallenge,Map.class);
  org.junit.Assert.assertTrue(received403.get());
}
