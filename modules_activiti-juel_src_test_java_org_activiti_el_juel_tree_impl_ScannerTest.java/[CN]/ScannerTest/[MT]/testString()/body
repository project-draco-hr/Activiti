{
  Symbol[] expected={START_EVAL_DYNAMIC,STRING,END_EVAL};
  assertEquals(expected,symbols("${'foo'}"));
  assertEquals(expected,symbols("${'f\"o'}"));
  assertEquals(expected,symbols("${'f\\'o'}"));
  try {
    symbols("${'f\\oo'}");
    fail();
  }
 catch (  ScanException e) {
  }
  try {
    symbols("${'f\\\"o'}");
    fail();
  }
 catch (  ScanException e) {
  }
  try {
    symbols("${'foo");
    fail();
  }
 catch (  ScanException e) {
  }
  assertEquals(expected,symbols("${\"foo\"}"));
  assertEquals(expected,symbols("${\"f\\\"o\"}"));
  assertEquals(expected,symbols("${\"f'o\"}"));
  try {
    symbols("${\"f\\oo\"}");
    fail();
  }
 catch (  ScanException e) {
  }
  try {
    symbols("${\"f\\'o\"}");
    fail();
  }
 catch (  ScanException e) {
  }
  try {
    symbols("${\"foo");
    fail();
  }
 catch (  ScanException e) {
  }
}
