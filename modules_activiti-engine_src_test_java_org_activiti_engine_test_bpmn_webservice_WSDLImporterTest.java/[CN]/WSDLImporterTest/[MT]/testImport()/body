{
  WSDLImporter importer=new WSDLImporter();
  URL url=ReflectUtil.getClassLoader().getResource("org/activiti/engine/impl/webservice/counter.wsdl");
  importer.importFrom(url.toString());
  List<WSService> services=new ArrayList<WSService>(importer.getServices());
  Assert.assertEquals(1,services.size());
  WSService service=services.get(0);
  Assert.assertEquals("Counter",service.getName());
  Assert.assertEquals("http://localhost:63081/counter",service.getLocation());
  List<Structure> structures=new ArrayList<Structure>(importer.getStructures());
  Collections.sort(structures,new Comparator<Structure>(){
    public int compare(    Structure o1,    Structure o2){
      return o1.getId().compareTo(o2.getId());
    }
  }
);
  List<WSOperation> operations=new ArrayList<WSOperation>(importer.getOperations());
  Collections.sort(operations,new Comparator<WSOperation>(){
    public int compare(    WSOperation o1,    WSOperation o2){
      return o1.getName().compareTo(o2.getName());
    }
  }
);
  Assert.assertEquals(5,operations.size());
  this.assertOperation(operations.get(0),"getCount",service);
  this.assertOperation(operations.get(1),"inc",service);
  this.assertOperation(operations.get(2),"prettyPrintCount",service);
  this.assertOperation(operations.get(3),"reset",service);
  this.assertOperation(operations.get(4),"setTo",service);
  Assert.assertEquals(10,structures.size());
  this.assertStructure(structures.get(0),"getCount",new String[]{},new Class<?>[]{});
  this.assertStructure(structures.get(1),"getCountResponse",new String[]{"count"},new Class<?>[]{Integer.class});
  this.assertStructure(structures.get(2),"inc",new String[]{},new Class<?>[]{});
  this.assertStructure(structures.get(3),"incResponse",new String[]{},new Class<?>[]{});
  this.assertStructure(structures.get(4),"prettyPrintCount",new String[]{"prefix","suffix"},new Class<?>[]{String.class,String.class});
  this.assertStructure(structures.get(5),"prettyPrintCountResponse",new String[]{"prettyPrint"},new Class<?>[]{String.class});
  this.assertStructure(structures.get(6),"reset",new String[]{},new Class<?>[]{});
  this.assertStructure(structures.get(7),"resetResponse",new String[]{},new Class<?>[]{});
  this.assertStructure(structures.get(8),"setTo",new String[]{"value"},new Class<?>[]{Integer.class});
  this.assertStructure(structures.get(9),"setToResponse",new String[]{},new Class<?>[]{});
}
