{
  if (processEngine != null) {
    if (configurationResource != null && processEngineConfigurationResource != null && !configurationResource.equals(processEngineConfigurationResource)) {
      log.fine("Configuration Resource has changed");
      log.fine("Refreshing the Process Engine");
      closeProcessEngine();
    }
  }
  if (processEngine == null) {
    log.fine("Creating process engine: " + configurationResource);
    processEngine=new DbProcessEngineBuilder().configureFromPropertiesResource(configurationResource).buildProcessEngine();
    processEngineConfigurationResource=configurationResource;
    processService=processEngine.getProcessService();
    taskService=processEngine.getTaskService();
    managementService=processEngine.getManagementService();
    identityService=processEngine.getIdentityService();
  }
}
