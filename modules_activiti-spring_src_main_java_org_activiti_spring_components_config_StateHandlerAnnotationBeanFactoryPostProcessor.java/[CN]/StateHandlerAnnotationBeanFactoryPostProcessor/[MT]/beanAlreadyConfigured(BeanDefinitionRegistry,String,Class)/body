{
  if (registry.isBeanNameInUse(beanName)) {
    BeanDefinition bDef=registry.getBeanDefinition(beanName);
    if (bDef.getBeanClassName().equals(clz.getName())) {
      return true;
    }
 else {
      throw new IllegalStateException("The bean name '" + beanName + "' is reserved.");
    }
  }
  return false;
}
