{
  setLoopVariable(execution,NUMBER_OF_ACTIVE_INSTANCES,loopCardinalityValue);
  List<ActivityExecution> concurrentExecutions=new ArrayList<ActivityExecution>();
  for (int loopCounter=0; loopCounter < loopCardinalityValue; loopCounter++) {
    ActivityExecution concurrentExecution=execution.createExecution();
    concurrentExecution.setActive(true);
    concurrentExecution.setConcurrent(true);
    concurrentExecution.setScope(false);
    if (isExtraScopeNeeded()) {
      ActivityExecution extraScopedExecution=concurrentExecution.createExecution();
      extraScopedExecution.setActive(true);
      extraScopedExecution.setConcurrent(false);
      extraScopedExecution.setScope(true);
      concurrentExecution=extraScopedExecution;
    }
    concurrentExecutions.add(concurrentExecution);
    logLoopDetails(concurrentExecution,"initialized",loopCounter,0,loopCardinalityValue,loopCardinalityValue);
  }
  for (int loopCounter=0; loopCounter < loopCardinalityValue; loopCounter++) {
    ActivityExecution concurrentExecution=concurrentExecutions.get(loopCounter);
    if (concurrentExecution.isActive() && concurrentExecution.getParent().isActive()) {
      setLoopVariable(concurrentExecution,LOOP_COUNTER,loopCounter);
      originalActivityBehavior.execute(concurrentExecution);
    }
  }
}
