{
  int loopCardinalityValue=resolveLoopCardinality(execution);
  if (loopCardinalityValue <= 0) {
    throw new ActivitiException("Invalid loopCardinality: must be positive integer value" + ", but was " + loopCardinalityValue);
  }
  setLoopVariable(execution,NUMBER_OF_INSTANCES,loopCardinalityValue);
  setLoopVariable(execution,NUMBER_OF_COMPLETED_INSTANCES,0);
  if (isSequential || loopCardinalityValue == 1) {
    executeSequentialBehavior(execution,loopCardinalityValue);
  }
 else {
    executeParallelBehavior(execution,loopCardinalityValue);
  }
}
