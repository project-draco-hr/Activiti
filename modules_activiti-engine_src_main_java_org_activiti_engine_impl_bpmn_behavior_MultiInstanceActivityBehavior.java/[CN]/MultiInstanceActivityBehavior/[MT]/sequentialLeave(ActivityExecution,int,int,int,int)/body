{
  loopCounter++;
  nrOfCompletedInstances++;
  setLoopVariable(execution,LOOP_COUNTER,loopCounter);
  setLoopVariable(execution,NUMBER_OF_COMPLETED_INSTANCES,nrOfCompletedInstances);
  logLoopDetails(execution,"instance completed",loopCounter,nrOfCompletedInstances,nrOfActiveInstances,nrOfInstances);
  if (loopCounter == nrOfInstances || completionConditionSatisfied(execution)) {
    super.leave(execution);
  }
 else {
    try {
      originalActivityBehavior.execute(execution);
    }
 catch (    Exception e) {
      throw new ActivitiException("Could not execute inner activity behavior of multi instance behavior",e);
    }
  }
}
