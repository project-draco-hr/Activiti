{
  if (usesCollection() && inputDataItemVariable != null) {
    Collection collection=null;
    if (loopDataInputRefExpression != null) {
      collection=(Collection)loopDataInputRefExpression.getValue(execution);
    }
 else     if (loopDataInputRefVariable != null) {
      collection=(Collection)execution.getVariable(loopDataInputRefVariable);
    }
    Object value=null;
    int index=0;
    Iterator it=collection.iterator();
    while (index <= loopCounter) {
      value=it.next();
      index++;
    }
    setLoopVariable(execution,inputDataItemVariable,value);
  }
  if (loopCounter == 0) {
    innerActivityBehavior.execute(execution);
  }
 else {
    execution.executeActivity(activity);
  }
}
