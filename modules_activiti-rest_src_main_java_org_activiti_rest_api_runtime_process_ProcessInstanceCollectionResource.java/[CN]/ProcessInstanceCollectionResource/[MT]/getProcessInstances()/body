{
  if (!authenticate()) {
    return null;
  }
  Form urlQuery=getQuery();
  ProcessInstanceQueryRequest queryRequest=new ProcessInstanceQueryRequest();
  if (getQueryParameter("id",urlQuery) != null) {
    queryRequest.setProcessInstanceId(getQueryParameter("id",urlQuery));
  }
  if (getQueryParameter("processDefinitionKey",urlQuery) != null) {
    queryRequest.setProcessDefinitionKey(getQueryParameter("processDefinitionKey",urlQuery));
  }
  if (getQueryParameter("processDefinitionId",urlQuery) != null) {
    queryRequest.setProcessDefinitionId(getQueryParameter("processDefinitionId",urlQuery));
  }
  if (getQueryParameter("businessKey",urlQuery) != null) {
    queryRequest.setProcessBusinessKey(getQueryParameter("businessKey",urlQuery));
  }
  if (getQueryParameter("involvedUser",urlQuery) != null) {
    queryRequest.setInvolvedUser(getQueryParameter("involvedUser",urlQuery));
  }
  if (getQueryParameter("suspended",urlQuery) != null) {
    queryRequest.setSuspended(getQueryParameterAsBoolean("suspended",urlQuery));
  }
  if (getQueryParameter("superProcessInstanceId",urlQuery) != null) {
    queryRequest.setSuperProcessInstanceId(getQueryParameter("superProcessInstanceId",urlQuery));
  }
  if (getQueryParameter("subProcessInstanceId",urlQuery) != null) {
    queryRequest.setSubProcessInstanceId(getQueryParameter("subProcessInstanceId",urlQuery));
  }
  return getQueryResponse(queryRequest,urlQuery);
}
