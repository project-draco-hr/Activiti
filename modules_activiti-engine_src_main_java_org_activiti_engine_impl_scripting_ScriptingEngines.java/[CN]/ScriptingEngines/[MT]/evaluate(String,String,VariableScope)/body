{
  Bindings bindings=createBindings(variableScope);
  ScriptEngine scriptEngine=scriptEngineManager.getEngineByName(language);
  if (scriptEngine == null) {
    scriptEngine=checkForOSGiEngine(language);
  }
  if (scriptEngine == null) {
    throw new ActivitiException("Can't find scripting engine for '" + language + "'");
  }
  try {
    return scriptEngine.eval(script,bindings);
  }
 catch (  ScriptException e) {
    throw new ActivitiException("problem evaluating script: " + e.getMessage(),e);
  }
}
