{
  ensureParentInitialized();
  if (parent != null) {
    parent.ensureExecutionsInitialized();
    parent.executions.remove(this);
  }
  ensureVariableInstancesInitialized();
  removeVariablesLocal();
  CommandContext commandContext=CommandContext.getCurrent();
  List<TaskEntity> tasks=(List)new TaskQueryImpl(commandContext).executionId(id).list();
  for (  TaskEntity task : tasks) {
    if (replacedBy != null) {
      task.setExecution(replacedBy);
    }
 else {
      task.delete(TaskEntity.DELETE_REASON_DELETED);
    }
  }
  List<Job> jobs=new JobQueryImpl(commandContext).executionId(id).list();
  for (  Job job : jobs) {
    if (replacedBy != null) {
      ((JobEntity)job).setExecution((ExecutionEntity)replacedBy);
    }
 else {
      ((JobEntity)job).delete();
    }
  }
  commandContext.getDbSqlSession().delete(ExecutionEntity.class,id);
}
