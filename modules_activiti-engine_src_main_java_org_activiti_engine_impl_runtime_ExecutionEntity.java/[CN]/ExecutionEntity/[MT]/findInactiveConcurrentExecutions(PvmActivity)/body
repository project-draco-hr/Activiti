{
  List<ActivityExecution> inactiveConcurrentExecutionsInActivity=new ArrayList<ActivityExecution>();
  List<ActivityExecution> otherConcurrentExecutions=new ArrayList<ActivityExecution>();
  if (isConcurrent()) {
    List<? extends ActivityExecution> concurrentExecutions=getParent().getExecutions();
    for (    ActivityExecution concurrentExecution : concurrentExecutions) {
      if (concurrentExecution.getActivity() == activity) {
        if (!concurrentExecution.isActive()) {
          inactiveConcurrentExecutionsInActivity.add(concurrentExecution);
        }
      }
 else {
        otherConcurrentExecutions.add(concurrentExecution);
      }
    }
  }
 else {
    if (!isActive()) {
      inactiveConcurrentExecutionsInActivity.add(this);
    }
 else {
      otherConcurrentExecutions.add(this);
    }
  }
  if (log.isLoggable(Level.FINE)) {
    log.fine("inactive concurrent executions in '" + activity + "': "+ inactiveConcurrentExecutionsInActivity);
    log.fine("other concurrent executions: " + otherConcurrentExecutions);
  }
  return inactiveConcurrentExecutionsInActivity;
}
