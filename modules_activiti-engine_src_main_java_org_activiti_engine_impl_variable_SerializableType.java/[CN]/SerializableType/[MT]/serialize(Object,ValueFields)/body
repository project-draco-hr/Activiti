{
  if (value == null) {
    return null;
  }
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  try {
    ObjectOutputStream ois=new ObjectOutputStream(baos);
    ois.writeObject(value);
  }
 catch (  Exception e) {
    throw new ActivitiException("coudn't deserialize value '" + value + "' in variable '"+ valueFields.getName()+ "'",e);
  }
  return baos.toByteArray();
}
