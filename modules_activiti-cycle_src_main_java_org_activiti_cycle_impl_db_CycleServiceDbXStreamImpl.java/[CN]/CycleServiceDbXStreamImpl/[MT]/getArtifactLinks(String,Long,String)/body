{
  CycleLink cycleLink=new CycleLink();
  CycleLinkTarget cycleLinkTarget=new CycleLinkTarget();
  List<CycleLinkTarget> cycleLinkTargetList=new ArrayList<CycleLinkTarget>();
  cycleLinkTarget.setLinkType(type);
  cycleLinkTargetList.add(cycleLinkTarget);
  cycleLink.setSourceArtifactId(sourceArtifactId);
  cycleLink.setSourceRevision(sourceRevision);
  cycleLink.setCycleLinkTarget(cycleLinkTargetList);
  SqlSessionFactory sqlMapper=getSessionFactory();
  SqlSession session=sqlMapper.openSession();
  try {
    return (List<CycleLink>)session.selectList("org.activiti.cycle.CycleLink.selectCycleLinkBySourceArtifactIdAndTypeAndSourceRevision",cycleLink);
  }
  finally {
    session.close();
  }
}
