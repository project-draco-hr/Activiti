{
  xtw=inputXtw;
  this.modelNode=modelNode;
  xtw.writeStartElement(BPMNDI_PREFIX,"BPMNDiagram",BPMNDI_NAMESPACE);
  xtw.writeAttribute("id","BPMNDiagram_" + BaseShapeHelper.getPropertyValueAsString(PROPERTY_PROCESS_ID,modelNode));
  xtw.writeStartElement(BPMNDI_PREFIX,"BPMNPlane",BPMNDI_NAMESPACE);
  xtw.writeAttribute("bpmnElement",BaseShapeHelper.getPropertyValueAsString(PROPERTY_PROCESS_ID,modelNode));
  xtw.writeAttribute("id","BPMNPlane_" + BaseShapeHelper.getPropertyValueAsString(PROPERTY_PROCESS_ID,modelNode));
  filterAllShapes(modelNode,0,0);
  filterAllEdges(modelNode);
  writeShapes();
  writeEdges();
  xtw.writeEndElement();
  xtw.writeEndElement();
}
