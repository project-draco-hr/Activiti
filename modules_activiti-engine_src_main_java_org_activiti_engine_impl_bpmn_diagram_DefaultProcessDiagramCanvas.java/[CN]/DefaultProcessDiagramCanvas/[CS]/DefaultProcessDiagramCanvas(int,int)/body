{
  this.canvasWidth=width;
  this.canvasHeight=height;
  if (Context.getProcessEngineConfiguration() != null) {
    this.activityFontName=Context.getProcessEngineConfiguration().getActivityFontName();
  }
  if (Context.getProcessEngineConfiguration() != null) {
    this.labelFontName=Context.getProcessEngineConfiguration().getLabelFontName();
  }
  this.processDiagram=new BufferedImage(width,height,BufferedImage.TYPE_INT_RGB);
  this.g=processDiagram.createGraphics();
  this.g.setBackground(new Color(255,255,255,0));
  this.g.clearRect(0,0,width,height);
  g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);
  g.setPaint(Color.black);
  Font font=new Font(activityFontName,Font.BOLD,FONT_SIZE);
  g.setFont(font);
  this.fontMetrics=g.getFontMetrics();
  LABEL_FONT=new Font(labelFontName,Font.ITALIC,10);
}
