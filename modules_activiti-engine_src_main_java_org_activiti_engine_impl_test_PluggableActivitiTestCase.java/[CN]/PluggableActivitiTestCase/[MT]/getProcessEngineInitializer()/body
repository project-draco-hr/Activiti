{
  String processEngineInitializerClassName=null;
  InputStream initializersInputStream=ReflectUtil.getResourceAsStream("activiti.initializer.properties");
  if (initializersInputStream != null) {
    Properties properties=new Properties();
    try {
      properties.load(initializersInputStream);
      processEngineInitializerClassName=properties.getProperty("process.engine.initializer");
      if (processEngineInitializerClassName != null) {
        return (ProcessEngineInitializer)ReflectUtil.instantiate(processEngineInitializerClassName);
      }
    }
 catch (    Exception e) {
      throw new RuntimeException("couldn't instantiate process engine initializer " + properties + ": "+ e,e);
    }
 finally {
      IoUtil.closeSilently(initializersInputStream);
    }
  }
  return new DefaultProcessEngineInitializer();
}
