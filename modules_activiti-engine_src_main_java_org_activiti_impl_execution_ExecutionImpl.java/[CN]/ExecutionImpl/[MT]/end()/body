{
  ensureExecutionsInitialized();
  List<ExecutionImpl> childExecutions=new ArrayList<ExecutionImpl>(executions);
  for (  ExecutionImpl childExecution : childExecutions) {
    childExecution.end();
  }
  ensureParentInitialized();
  if (parent != null) {
    parent.removeExecution(this);
  }
 else {
    ensureSuperExecutionInitialized();
    if (superExecution != null) {
      ExecutionImpl superExecutionCopy=superExecution;
      superExecution.setSubProcessInstance(null);
      setSuperExecution(null);
      superExecutionCopy.event("continue process");
    }
    isEnded=true;
    fireEvent(EndProcessInstanceEvent.INSTANCE);
  }
}
