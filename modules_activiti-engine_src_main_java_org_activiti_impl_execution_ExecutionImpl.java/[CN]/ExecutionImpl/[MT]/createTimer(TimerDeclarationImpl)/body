{
  BusinessCalendarManager businessCalendarManager=CommandContext.getCurrent().getBusinessCalendarManager();
  BusinessCalendar businessCalendar=businessCalendarManager.getBusinessCalendar(timerDeclaration.getBusinessCalendarRef());
  Date duedate=businessCalendar.resolveDuedate(timerDeclaration.getDuedate());
  TimerImpl timer=new TimerImpl();
  timer.setExecution(this);
  timer.setDuedate(duedate);
  timer.setJobHandlerType(timerDeclaration.getJobHandlerType());
  timer.setJobHandlerConfiguration(timerDeclaration.getJobHandlerConfiguration());
  timer.setExclusive(timerDeclaration.isExclusive());
  timer.setRepeat(timerDeclaration.getRepeat());
  timer.setRetries(timerDeclaration.getRetries());
  CommandContext.getCurrent().getTimerSession().schedule(timer);
}
