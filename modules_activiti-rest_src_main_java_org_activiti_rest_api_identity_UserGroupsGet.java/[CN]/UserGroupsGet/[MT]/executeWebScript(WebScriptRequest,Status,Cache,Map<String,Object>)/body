{
  String userId=getMandatoryPathParameter(req,"userId");
  String groupType=getString(req,"type");
  if (groupType != null && !groupType.trim().equals("")) {
    model.put("groups",getIdentityService().findGroupsByUserIdAndGroupType(userId,groupType));
  }
 else {
    model.put("groups",getIdentityService().findGroupsByUserId(userId));
  }
}
