{
  String varInstanceId=getAttribute("varInstanceId");
  if (varInstanceId == null) {
    throw new ActivitiIllegalArgumentException("The varInstanceId cannot be null");
  }
  HistoricVariableInstance varObject=ActivitiUtil.getHistoryService().createHistoricVariableInstanceQuery().id(varInstanceId).singleResult();
  if (varObject == null) {
    throw new ActivitiObjectNotFoundException("Historic variable instance '" + varInstanceId + "' couldn't be found.",VariableInstanceEntity.class);
  }
 else {
    RestResponseFactory responseFactory=getApplication(ActivitiRestServicesApplication.class).getRestResponseFactory();
    return responseFactory.createRestVariable(this,varObject.getVariableName(),varObject.getValue(),null,varInstanceId,RestResponseFactory.VARIABLE_HISTORY_VARINSTANCE,includeBinary);
  }
}
