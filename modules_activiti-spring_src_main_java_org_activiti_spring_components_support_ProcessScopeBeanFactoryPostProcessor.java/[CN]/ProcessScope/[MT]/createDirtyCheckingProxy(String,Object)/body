{
  ProxyFactory proxyFactoryBean=new ProxyFactory(scopedObject);
  proxyFactoryBean.setProxyTargetClass(true);
  proxyFactoryBean.addAdvice(new MethodInterceptor(){
    public Object invoke(    MethodInvocation methodInvocation) throws Throwable {
      Object result=methodInvocation.proceed();
      persistVariable(name,scopedObject);
      return result;
    }
  }
);
  return proxyFactoryBean.getProxy(this.classLoader);
}
