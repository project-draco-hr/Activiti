{
  Verifier verifier=new SecretVerifier(){
    @Override public boolean verify(    String username,    char[] password) throws IllegalArgumentException {
      boolean verified=ActivitiUtil.getIdentityService().checkPassword(username,new String(password));
      return verified;
    }
  }
;
  authenticator=new ChallengeAuthenticator(null,true,ChallengeScheme.HTTP_BASIC,"Activiti Realm"){
    @Override protected boolean authenticate(    Request request,    Response response){
      if (request.getChallengeResponse() == null) {
        return false;
      }
 else {
        return super.authenticate(request,response);
      }
    }
  }
;
  authenticator.setVerifier(verifier);
}
