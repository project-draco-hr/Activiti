{
  if (!authenticate())   return;
  HistoricProcessInstance instance=getHistoricProcessInstanceFromRequest();
  String commentId=getAttribute("commentId");
  if (commentId == null) {
    throw new ActivitiIllegalArgumentException("CommentId is required.");
  }
  Comment comment=ActivitiUtil.getTaskService().getComment(commentId);
  if (comment == null || comment.getProcessInstanceId() == null || !comment.getProcessInstanceId().equals(instance.getId())) {
    throw new ActivitiObjectNotFoundException("Process instance '" + instance.getId() + "' doesn't have a comment with id '"+ commentId+ "'.",Comment.class);
  }
  ActivitiUtil.getTaskService().deleteComment(commentId);
  setStatus(Status.SUCCESS_NO_CONTENT);
}
