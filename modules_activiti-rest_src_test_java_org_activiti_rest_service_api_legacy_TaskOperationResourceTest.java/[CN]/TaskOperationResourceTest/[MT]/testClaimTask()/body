{
  runtimeService.startProcessInstanceByKey("simpleProcess");
  Task task=taskService.createTaskQuery().singleResult();
  assertNotNull(task);
  assertEquals("WaitTask",task.getName());
  assertNull(task.getAssignee());
  ClientResource client=getAuthenticatedClient("task/" + task.getId() + "/claim");
  Representation response=client.put(null);
  JsonNode responseNode=objectMapper.readTree(response.getStream());
  assertNotNull(responseNode);
  assertTrue(responseNode.get("success").booleanValue());
  task=taskService.createTaskQuery().singleResult();
  assertEquals("kermit",task.getAssignee());
  taskService.complete(task.getId());
  List<ProcessInstance> instanceList=runtimeService.createProcessInstanceQuery().list();
  assertEquals(0,instanceList.size());
}
