{
  final JobExecutorContext jobExecutorContext=new JobExecutorContext();
  final List<JobEntity> currentProcessorJobQueue=jobExecutorContext.getCurrentProcessorJobQueue();
  final CommandExecutor commandExecutor=jobExecutor.getCommandExecutor();
  currentProcessorJobQueue.addAll(jobs);
  Context.setJobExecutorContext(jobExecutorContext);
  try {
    while (!currentProcessorJobQueue.isEmpty()) {
      try {
        commandExecutor.execute(new ExecuteJobsCmd(currentProcessorJobQueue.remove(0)));
      }
 catch (      Throwable e) {
        log.error("exception during job execution: {}",e.getMessage(),e);
      }
    }
  }
  finally {
    Context.removeJobExecutorContext();
  }
}
