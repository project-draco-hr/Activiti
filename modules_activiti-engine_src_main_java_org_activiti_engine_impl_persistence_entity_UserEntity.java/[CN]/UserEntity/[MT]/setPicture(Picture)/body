{
  if (picture == null) {
    if (pictureByteArrayId != null) {
      Context.getCommandContext().getByteArrayEntityManager().deleteByteArrayById(pictureByteArrayId);
      pictureByteArrayId=null;
      pictureByteArray=null;
    }
  }
 else {
    if (pictureByteArrayId == null) {
      pictureByteArray=ByteArrayEntity.createAndInsert(picture.getMimeType(),picture.getBytes());
      pictureByteArrayId=pictureByteArray.getId();
    }
 else {
      ByteArrayEntity pictureByteArray=getPictureByteArrayEntity();
      pictureByteArray.setName(picture.getMimeType());
      pictureByteArray.setBytes(picture.getBytes());
    }
  }
}
