{
  CommandContext context=commandContextFactory.createCommandContext(command);
  try {
    CommandContext.setCurrentCommandContext(context);
    return next.execute(command);
  }
 catch (  Exception e) {
    context.exception(e);
  }
 finally {
    try {
      context.close();
    }
  finally {
      CommandContext.removeCurrentCommandContext();
    }
  }
  return null;
}
