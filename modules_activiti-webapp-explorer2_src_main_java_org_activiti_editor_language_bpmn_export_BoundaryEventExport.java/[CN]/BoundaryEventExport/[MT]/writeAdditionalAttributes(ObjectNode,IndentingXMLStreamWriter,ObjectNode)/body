{
  boolean attachedToRefWritten=false;
  for (  JsonNode childNode : modelNode.get(EDITOR_CHILD_SHAPES)) {
    ArrayNode outgoingNode=(ArrayNode)childNode.get("outgoing");
    if (outgoingNode != null && outgoingNode.size() > 0) {
      for (      JsonNode outgoingChildNode : outgoingNode) {
        JsonNode resourceNode=outgoingChildNode.get(EDITOR_SHAPE_ID);
        if (resourceNode != null && objectNode.get(EDITOR_SHAPE_ID).asText().equals(resourceNode.asText())) {
          xtw.writeAttribute("attachedToRef",childNode.get(EDITOR_SHAPE_ID).asText());
          attachedToRefWritten=true;
          break;
        }
      }
      if (attachedToRefWritten) {
        break;
      }
    }
  }
  super.writeAdditionalAttributes(objectNode,xtw,modelNode);
}
