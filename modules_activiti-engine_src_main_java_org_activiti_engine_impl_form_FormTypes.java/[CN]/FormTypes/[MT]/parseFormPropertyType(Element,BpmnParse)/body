{
  AbstractFormType formType=null;
  String typeText=formPropertyElement.attribute("type");
  String datePatternText=formPropertyElement.attribute("datePattern");
  if ("date".equals(typeText) && datePatternText != null) {
    formType=new DateFormType(datePatternText);
  }
 else   if ("enum".equals(typeText)) {
    Map<String,String> values=new LinkedHashMap<String,String>();
    for (    Element valueElement : formPropertyElement.elementsNS(BpmnParser.ACTIVITI_BPMN_EXTENSIONS_NS,"value")) {
      String valueId=valueElement.attribute("id");
      String valueName=valueElement.attribute("name");
      values.put(valueId,valueName);
    }
    formType=new EnumFormType(values);
  }
 else   if (typeText != null) {
    formType=formTypes.get(typeText);
    if (formType == null) {
      bpmnParse.addError("unknown type '" + typeText + "'",formPropertyElement);
    }
  }
  return formType;
}
