{
  AbstractFormType formType=null;
  String typeText=formPropertyElement.attribute("http://activiti.org/bpmn-extensions:type");
  String datePatternText=formPropertyElement.attribute("http://activiti.org/bpmn-extensions:datePattern");
  if ("date".equals(typeText) && datePatternText != null) {
    formType=new DateFormType(datePatternText);
  }
 else   if ("enum".equals(typeText)) {
    Map<String,String> values=new HashMap<String,String>();
    for (    Element valueElement : formPropertyElement.elementsNS("http://activiti.org/bpmn-extensions","value")) {
      String valueId=valueElement.attribute("http://activiti.org/bpmn-extensions:id");
      String valueName=valueElement.attribute("http://activiti.org/bpmn-extensions:name");
      values.put(valueId,valueName);
    }
    formType=new EnumFormType(values);
  }
 else   if (typeText != null) {
    formType=formTypes.get(typeText);
    if (formType == null) {
      bpmnParse.addError("unknown type '" + typeText + "'",formPropertyElement);
    }
  }
  return formType;
}
