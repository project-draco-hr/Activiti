{
  if (associationManager.getTaskId() != null) {
    return;
  }
  if (associationManager.getProcessInstanceId() == null) {
    resumeProcess();
  }
  if (associationManager.getProcessInstanceId() != null) {
    Task task=null;
    try {
      task=processEngine.getTaskService().createTaskQuery().processInstanceId(associationManager.getProcessInstanceId()).singleResult();
    }
 catch (    ActivitiException e) {
      String actorId=actor.getActorId();
      if (actorId == null || actorId.length() == 0) {
        return;
      }
      try {
        task=processEngine.getTaskService().createTaskQuery().processInstanceId(associationManager.getProcessInstanceId()).taskAssignee(actorId).singleResult();
      }
 catch (      ActivitiException ex) {
        return;
      }
    }
    if (task != null) {
      associationManager.associateTask(task.getId());
    }
  }
}
