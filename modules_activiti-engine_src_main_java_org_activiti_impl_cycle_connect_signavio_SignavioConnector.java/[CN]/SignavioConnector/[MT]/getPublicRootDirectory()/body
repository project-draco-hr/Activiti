{
  Client client=initClient();
  Reference directoryRef=new Reference(DIRECTORY_URL);
  Request directoryRequest=new Request(Method.GET,directoryRef);
  directoryRequest.getClientInfo().getAcceptedMediaTypes().add(new Preference<MediaType>(MediaType.APPLICATION_JSON));
  Form requestHeaders=new Form();
  requestHeaders.add("token",securityToken);
  directoryRequest.getAttributes().put("org.restlet.http.headers",requestHeaders);
  Response directoryResponse=client.handle(directoryRequest);
  JsonRepresentation jsonData=new JsonRepresentation(directoryResponse.getEntity());
  JSONArray rootJsonArray=jsonData.toJsonArray();
  if (log.isLoggable(Level.FINEST)) {
    SignavioLogHelper.logJSONArray(log,rootJsonArray);
  }
  for (int i=0; i < rootJsonArray.length(); i++) {
    JSONObject rootObject=rootJsonArray.getJSONObject(i);
    if ("public".equals(rootObject.getJSONObject("rep").get("type"))) {
      return rootObject;
    }
  }
  if (log.isLoggable(Level.FINEST)) {
    SignavioLogHelper.logCookieAndBody(log,directoryResponse);
  }
  throw new RepositoryException("No directory root found in signavio repository.");
}
