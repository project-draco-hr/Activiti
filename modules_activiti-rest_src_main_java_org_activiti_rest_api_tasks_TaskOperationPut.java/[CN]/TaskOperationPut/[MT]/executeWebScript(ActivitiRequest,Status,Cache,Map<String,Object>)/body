{
  String taskId=req.getMandatoryPathParameter("taskId");
  String operation=req.getMandatoryPathParameter("operation");
  ActivitiRequest.ActivitiWebScriptBody body=req.getBody();
  Map<String,Object> variables=req.getFormVariables(body);
  String currentUserId=req.getCurrentUserId();
  boolean result=false;
  if ("start".equals(operation)) {
    throw new WebScriptException(Status.STATUS_NOT_IMPLEMENTED,"Not implemented in this version");
  }
 else   if ("stop".equals(operation)) {
    throw new WebScriptException(Status.STATUS_NOT_IMPLEMENTED,"Not implemented in this version");
  }
 else   if ("claim".equals(operation)) {
    getTaskService().claim(taskId,currentUserId);
    result=true;
  }
 else   if ("complete".equals(operation)) {
    variables.remove("taskId");
    getTaskService().complete(taskId,variables);
    result=true;
  }
 else   if ("revoke".equals(operation)) {
    throw new WebScriptException(Status.STATUS_NOT_IMPLEMENTED,"Not implemented in this version");
  }
 else   if ("suspend".equals(operation)) {
    throw new WebScriptException(Status.STATUS_NOT_IMPLEMENTED,"Not implemented in this version");
  }
 else   if ("resume".equals(operation)) {
    throw new WebScriptException(Status.STATUS_NOT_IMPLEMENTED,"Not implemented in this version");
  }
 else {
    throw new WebScriptException(Status.STATUS_BAD_REQUEST,"'" + operation + "' is not a valid operation");
  }
  model.put("result",result);
}
