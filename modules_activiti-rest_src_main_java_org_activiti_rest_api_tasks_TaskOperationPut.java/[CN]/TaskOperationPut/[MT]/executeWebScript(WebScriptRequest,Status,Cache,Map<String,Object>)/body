{
  String taskId=getMandatoryPathParameter(req,"taskId");
  String operation=getMandatoryPathParameter(req,"operation");
  ActivitiWebScriptBody body=getBody(req);
  Map<String,Object> variables=getFormVariables(body);
  String currentUserId=getCurrentUserId(req);
  boolean result=false;
  if ("start".equals(operation)) {
    throw new WebScriptException(Status.STATUS_NOT_IMPLEMENTED,"Not implemented in this version");
  }
 else   if ("stop".equals(operation)) {
    throw new WebScriptException(Status.STATUS_NOT_IMPLEMENTED,"Not implemented in this version");
  }
 else   if ("claim".equals(operation)) {
    getTaskService().claim(taskId,currentUserId);
    result=true;
  }
 else   if ("complete".equals(operation)) {
    variables.remove("taskId");
    getTaskService().complete(taskId,variables);
    result=true;
  }
 else   if ("revoke".equals(operation)) {
    throw new WebScriptException(Status.STATUS_NOT_IMPLEMENTED,"Not implemented in this version");
  }
 else   if ("suspend".equals(operation)) {
    throw new WebScriptException(Status.STATUS_NOT_IMPLEMENTED,"Not implemented in this version");
  }
 else   if ("resume".equals(operation)) {
    throw new WebScriptException(Status.STATUS_NOT_IMPLEMENTED,"Not implemented in this version");
  }
 else {
    throw new WebScriptException(Status.STATUS_BAD_REQUEST,"'" + operation + "' is not a valid operation");
  }
  model.put("result",result);
}
