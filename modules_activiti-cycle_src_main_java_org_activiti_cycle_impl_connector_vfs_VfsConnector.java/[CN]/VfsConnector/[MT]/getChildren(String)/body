{
  checkRepository();
  String filename=buildFilename(id);
  FileObject fileObject=null;
  FileObject[] children;
  List<RepositoryNode> result=new ArrayList<RepositoryNode>();
  try {
    fileObject=fileSystemManager.resolveFile(filename);
    children=fileObject.getChildren();
  }
 catch (  FileSystemException e) {
    log.log(Level.WARNING,"cannot get Children of  " + id,e);
    throw new RepositoryNodeNotFoundException(getConfiguration().getName(),RepositoryFolder.class,id,e);
  }
 finally {
    close(fileObject);
  }
  for (  FileObject child : children) {
    String newId=ConnectorPathUtils.buildId(id,child.getName().getBaseName());
    RepositoryNode node=initRepositoryNode(child,newId);
    if (node == null)     continue;
    result.add(node);
    close(child);
  }
  return new RepositoryNodeCollectionImpl(result);
}
