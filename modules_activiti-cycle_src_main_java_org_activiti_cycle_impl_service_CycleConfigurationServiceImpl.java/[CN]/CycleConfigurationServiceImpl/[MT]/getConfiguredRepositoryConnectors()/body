{
  String currentUserId=getCurrentUserId();
  Map<String,List<String>> result=new HashMap<String,List<String>>();
  List<RepositoryConnectorConfiguration> configurationList=getConnectorConfigurations();
  for (  RepositoryConnectorConfiguration repositoryConnectorConfiguration : configurationList) {
    String pluginId=repositoryConnectorConfiguration.getPluginId();
    if (currentUserId.equals(repositoryConnectorConfiguration.getUserId())) {
      List<String> configuredConnectorsForThisPluginId=result.get(pluginId);
      if (configuredConnectorsForThisPluginId == null) {
        configuredConnectorsForThisPluginId=new ArrayList<String>();
        result.put(pluginId,configuredConnectorsForThisPluginId);
      }
      configuredConnectorsForThisPluginId.add(repositoryConnectorConfiguration.getConnectorId());
    }
  }
  return result;
}
