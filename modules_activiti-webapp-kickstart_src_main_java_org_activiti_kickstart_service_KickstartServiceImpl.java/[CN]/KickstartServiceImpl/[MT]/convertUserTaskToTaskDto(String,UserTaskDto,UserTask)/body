{
  for (  ActivityResource activityResource : userTask.getActivityResource()) {
    if (activityResource instanceof PotentialOwner) {
      PotentialOwner potentialOwner=(PotentialOwner)activityResource;
      List<String> content=potentialOwner.getResourceAssignmentExpression().getExpression().getContent();
      if (!content.isEmpty()) {
        task.setGroups(content.get(0));
      }
    }
 else     if (activityResource instanceof HumanPerformer) {
      HumanPerformer humanPerformer=(HumanPerformer)activityResource;
      List<String> content=humanPerformer.getResourceAssignmentExpression().getExpression().getContent();
      if (!content.isEmpty()) {
        task.setAssignee(content.get(0));
      }
    }
  }
  List<FormPropertyDto> formPropertyDtos=new ArrayList<FormPropertyDto>();
  if (userTask.getExtensionElements() != null) {
    for (    AbstractExtensionElement extensionElement : userTask.getExtensionElements().getAllElementOfType(ActivitiFormProperty.class)) {
      ActivitiFormProperty formProperty=(ActivitiFormProperty)extensionElement;
      FormPropertyDto formPropertyDto=new FormPropertyDto();
      formPropertyDto.setProperty(formProperty.getName());
      String formType=formProperty.getType();
      String type="text";
      if ("date".equals(formType)) {
        type="date";
      }
 else       if ("long".equals(formType)) {
        type="number";
      }
      formPropertyDto.setType(type);
      formPropertyDto.setRequired("true".equals(formProperty.getRequired()));
      formPropertyDtos.add(formPropertyDto);
    }
  }
  if (formPropertyDtos.size() > 0) {
    FormDto formDto=new FormDto();
    formDto.setFormProperties(formPropertyDtos);
    task.setForm(formDto);
  }
}
