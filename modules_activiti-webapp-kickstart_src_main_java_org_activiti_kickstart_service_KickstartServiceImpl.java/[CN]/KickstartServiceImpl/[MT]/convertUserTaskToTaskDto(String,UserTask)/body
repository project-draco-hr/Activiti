{
  TaskDto task=new TaskDto();
  task.setId(userTask.getId());
  task.setName(userTask.getName());
  if (!userTask.getDocumentation().isEmpty()) {
    task.setDescription(userTask.getDocumentation().get(0).getText());
  }
  for (  ActivityResource activityResource : userTask.getActivityResource()) {
    if (activityResource instanceof PotentialOwner) {
      PotentialOwner potentialOwner=(PotentialOwner)activityResource;
      List<String> content=potentialOwner.getResourceAssignmentExpression().getExpression().getContent();
      if (!content.isEmpty()) {
        task.setGroups(content.get(0));
      }
    }
 else     if (activityResource instanceof HumanPerformer) {
      HumanPerformer humanPerformer=(HumanPerformer)activityResource;
      List<String> content=humanPerformer.getResourceAssignmentExpression().getExpression().getContent();
      if (!content.isEmpty()) {
        task.setAssignee(content.get(0));
      }
    }
  }
  if (userTask.getFormKey() != null) {
    InputStream is=repositoryService.getResourceAsStream(deploymentId,userTask.getFormKey() + ".internal");
    String serializedForm=new String(IoUtil.readInputStream(is,""));
    IoUtil.closeSilently(is);
    task.setForm(FormDto.createFromSerialized(serializedForm));
  }
  return task;
}
