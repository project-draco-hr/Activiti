{
  for (  Element messageElement : rootElement.elements("message")) {
    String id=messageElement.attribute("id");
    String itemRef=this.resolveName(messageElement.attribute("itemRef"));
    if (!this.itemDefinitions.containsKey(itemRef)) {
      addError(itemRef + " does not exist",messageElement);
    }
 else {
      ItemDefinition itemDefinition=this.itemDefinitions.get(itemRef);
      MessageDefinition message=new MessageDefinition(this.targetNamespace + ":" + id,itemDefinition);
      this.messages.put(message.getId(),message);
    }
  }
}
