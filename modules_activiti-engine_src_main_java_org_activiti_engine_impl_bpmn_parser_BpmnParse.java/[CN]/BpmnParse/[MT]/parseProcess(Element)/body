{
  ProcessDefinitionEntity processDefinition=new ProcessDefinitionEntity();
  processDefinition.setKey(processElement.attribute("id"));
  processDefinition.setName(processElement.attribute("name"));
  processDefinition.setCategory(rootElement.attribute("targetNamespace"));
  processDefinition.setProperty("documentation",parseDocumentation(processElement));
  processDefinition.setTaskDefinitions(new HashMap<String,TaskDefinition>());
  processDefinition.setDeploymentId(deployment.getId());
  String historyLevelText=processElement.attributeNS(BpmnParser.ACTIVITI_BPMN_EXTENSIONS_NS,"history");
  if (historyLevelText != null) {
    processDefinition.setHistoryLevel(ProcessEngineConfiguration.parseHistoryLevel(historyLevelText));
  }
  if (LOG.isLoggable(Level.FINE)) {
    LOG.fine("Parsing process " + processDefinition.getKey());
  }
  parseScope(processElement,processDefinition);
  for (  BpmnParseListener parseListener : parseListeners) {
    parseListener.parseProcess(processElement,processDefinition);
  }
  return processDefinition;
}
