{
  ActivityImpl activity=createActivityOnScope(subProcessElement,scope);
  activity.setAsync(isAsync(subProcessElement));
  activity.setExclusive(isExclusive(subProcessElement));
  Boolean isTriggeredByEvent=parseBooleanAttribute(subProcessElement.attribute("triggeredByEvent"),false);
  activity.setProperty("triggeredByEvent",isTriggeredByEvent);
  activity.setScope(!isTriggeredByEvent);
  activity.setActivityBehavior(new SubProcessActivityBehavior());
  parseScope(subProcessElement,activity);
  for (  BpmnParseListener parseListener : parseListeners) {
    parseListener.parseSubProcess(subProcessElement,scope,activity);
  }
  return activity;
}
