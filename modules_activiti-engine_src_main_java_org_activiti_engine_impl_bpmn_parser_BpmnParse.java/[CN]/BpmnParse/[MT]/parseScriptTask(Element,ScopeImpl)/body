{
  ActivityImpl activity=parseAndCreateActivityOnScopeElement(scriptTaskElement,scope);
  String script=null;
  String language=null;
  String resultVariableName=null;
  Element scriptElement=scriptTaskElement.element("script");
  if (scriptElement != null) {
    script=scriptElement.getText();
    if (language == null) {
      language=scriptTaskElement.attribute("scriptFormat");
    }
    if (language == null) {
      language=ScriptingEngines.DEFAULT_SCRIPTING_LANGUAGE;
    }
    resultVariableName=scriptTaskElement.attributeNS(BpmnParser.ACTIVITI_BPMN_EXTENSIONS_NS,"resultVariableName");
  }
  activity.setActivityBehavior(new ScriptTaskActivityBehavior(script,language,resultVariableName));
  parseExecutionListenersOnScope(scriptTaskElement,activity);
  for (  BpmnParseListener parseListener : parseListeners) {
    parseListener.parseScriptTask(scriptTaskElement,scope,activity);
  }
}
