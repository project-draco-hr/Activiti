{
  ActivityImpl activity=parseAndCreateActivityOnScopeElement(scriptTaskElement,scope);
  String script=null;
  String language=null;
  Element scriptElement=scriptTaskElement.element("script");
  if (scriptElement != null) {
    script=scriptElement.getText();
    if (language == null) {
      language=scriptTaskElement.attribute("scriptFormat");
    }
    if (language == null) {
      language=ScriptingEngines.DEFAULT_SCRIPTING_LANGUAGE;
    }
  }
  activity.setActivityBehavior(new ScriptTaskActivity(script,language));
  for (  BpmnParseListener parseListener : parseListeners) {
    parseListener.parseScript(scriptTaskElement,scope,activity);
  }
}
