{
  TaskFormHandler taskFormHandler;
  String taskFormHandlerClassName=taskElement.attributeNS(BpmnParser.BPMN_EXTENSIONS_NS,"formHandlerClass");
  if (taskFormHandlerClassName != null) {
    taskFormHandler=(TaskFormHandler)ReflectUtil.instantiate(taskFormHandlerClassName);
  }
 else {
    taskFormHandler=new DefaultTaskFormHandler();
  }
  taskFormHandler.parseConfiguration(taskElement,deployment,this);
  TaskDefinition taskDefinition=new TaskDefinition(taskFormHandler);
  taskDefinition.setKey(taskDefinitionKey);
  processDefinition.getTaskDefinitions().put(taskDefinitionKey,taskDefinition);
  String name=taskElement.attribute("name");
  if (name != null) {
    taskDefinition.setNameExpression(expressionManager.createExpression(name));
  }
  String descriptionStr=parseDocumentation(taskElement);
  if (descriptionStr != null) {
    taskDefinition.setDescriptionExpression(expressionManager.createExpression(descriptionStr));
  }
  parseHumanPerformer(taskElement,taskDefinition);
  parsePotentialOwner(taskElement,taskDefinition);
  parseUserTaskCustomExtensions(taskElement,taskDefinition);
  return taskDefinition;
}
