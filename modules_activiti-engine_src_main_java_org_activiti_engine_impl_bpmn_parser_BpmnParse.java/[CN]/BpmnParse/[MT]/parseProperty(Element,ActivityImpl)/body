{
  String id=propertyElement.attribute("id");
  String name=propertyElement.attribute("name");
  if (name == null) {
    if (id == null) {
      addError("Invalid property usage on line " + propertyElement.getLine() + ": no id or name specified.",propertyElement);
    }
 else {
      name=id;
    }
  }
  String itemSubjectRef=propertyElement.attribute("itemSubjectRef");
  String type=null;
  if (itemSubjectRef != null) {
    ItemDefinition itemDefinition=itemDefinitions.get(itemSubjectRef);
    if (itemDefinition != null) {
      StructureDefinition structure=itemDefinition.getStructureDefinition();
      type=structure.getId();
    }
 else {
      addError("Invalid itemDefinition reference: " + itemSubjectRef + " not found",propertyElement);
    }
  }
  parsePropertyCustomExtensions(activity,propertyElement,name,type);
}
