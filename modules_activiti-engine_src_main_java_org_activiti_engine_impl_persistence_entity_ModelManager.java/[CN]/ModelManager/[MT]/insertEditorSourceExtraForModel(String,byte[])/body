{
  ModelEntity model=findModelById(modelId);
  if (model != null) {
    ByteArrayEntity byteArrayValue=null;
    if (model.getEditorSourceExtraValueId() != null) {
      Context.getCommandContext().getByteArrayManager().deleteByteArrayById(model.getEditorSourceExtraValueId());
    }
    if (modelSource != null) {
      byteArrayValue=new ByteArrayEntity(modelSource);
      Context.getCommandContext().getDbSqlSession().insert(byteArrayValue);
    }
    if (byteArrayValue != null) {
      model.setEditorSourceExtraValueId(byteArrayValue.getId());
      updateModel(model);
    }
  }
}
