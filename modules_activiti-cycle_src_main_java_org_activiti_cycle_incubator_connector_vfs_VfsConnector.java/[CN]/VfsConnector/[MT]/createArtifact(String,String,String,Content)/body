{
  checkRepository();
  String parentFolderName=buildFilename(parentFolderId);
  String artifactFileName=ConnectorPathUtils.buildId(parentFolderName,artifactName);
  FileObject newFile=null;
  try {
    newFile=fileSystemManager.resolveFile(artifactFileName);
    newFile.createFile();
    OutputStream os=newFile.getContent().getOutputStream();
    InputStream is=artifactContent.asInputStream();
    ConnectorStreamUtils.copyStreams(is,os,2024);
    return getRepositoryArtifact(ConnectorPathUtils.buildId(parentFolderId,artifactName));
  }
 catch (  Exception e) {
    throw new RepositoryException("Could not create artifact '" + artifactName + "' in folder '"+ parentFolderId+ "'. Reason: "+ e.getMessage(),e);
  }
}
