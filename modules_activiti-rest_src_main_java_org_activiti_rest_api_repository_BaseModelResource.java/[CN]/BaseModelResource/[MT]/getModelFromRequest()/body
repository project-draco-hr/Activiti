{
  String modelId=getAttribute("modelId");
  if (modelId == null) {
    throw new ActivitiIllegalArgumentException("The modelId cannot be null");
  }
  Model model=ActivitiUtil.getRepositoryService().createModelQuery().modelId(modelId).singleResult();
  if (model == null) {
    throw new ActivitiObjectNotFoundException("Could not find a model with id '" + modelId + "'.",ProcessDefinition.class);
  }
  return model;
}
