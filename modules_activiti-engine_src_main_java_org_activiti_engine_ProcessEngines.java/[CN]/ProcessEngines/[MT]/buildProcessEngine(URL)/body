{
  InputStream inputStream=null;
  try {
    inputStream=resource.openStream();
    ProcessEngine processEngine=new ProcessEngineBuilder().configureFromPropertiesInputStream(inputStream).buildProcessEngine();
    return processEngine;
  }
 catch (  IOException e) {
    throw new ActivitiException("couldn't open resource stream: " + e.getMessage(),e);
  }
 finally {
    IoUtil.closeSilently(inputStream);
  }
}
