{
  for (  Process process : bpmnModel.getProcesses()) {
    graph=new mxGraph();
    cellParent=graph.getDefaultParent();
    graph.getModel().beginUpdate();
    handledFlowElements=new HashMap<String,FlowElement>();
    generatedVertices=new HashMap<String,Object>();
    generatedEdges=new HashMap<String,Object>();
    sequenceFlows=new ArrayList<SequenceFlow>();
    boundaryEvents=new ArrayList<BoundaryEvent>();
    for (    FlowElement flowElement : process.getFlowElements()) {
      if (flowElement instanceof SequenceFlow) {
        handleSequenceFlow(flowElement);
      }
 else       if (flowElement instanceof Event) {
        handleEvent(flowElement);
      }
 else       if (flowElement instanceof Gateway) {
        createGatewayVertex(flowElement);
      }
 else       if (flowElement instanceof Task) {
        handleTask(flowElement);
      }
 else       if (flowElement instanceof SubProcess) {
      }
      handledFlowElements.put(flowElement.getId(),flowElement);
    }
    handleBoundaryEvents();
    handleSequenceFlow();
    CustomLayout layout=new CustomLayout(graph,SwingConstants.WEST);
    layout.setIntraCellSpacing(100.0);
    layout.setResizeParent(true);
    layout.setFineTuning(true);
    layout.setParentBorder(20);
    layout.setMoveParent(true);
    layout.setDisableEdgeStyle(false);
    layout.execute(graph.getDefaultParent());
    graph.getModel().endUpdate();
    generateDiagramInterchangeElements();
  }
}
