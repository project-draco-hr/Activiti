{
  initializeProcessEngine();
  if (repositoryService == null) {
    initializeServices();
  }
  log.severe(EMPTY_LINE);
  try {
    if (isBeforeTest()) {
      deploymentId=TestHelper.annotationDeploymentSetUp(processEngine,getClass(),getName());
    }
    Throwable exception=null;
    setUp();
    try {
      runTest();
    }
 catch (    Throwable running) {
      exception=running;
    }
 finally {
      try {
        tearDown();
      }
 catch (      Throwable tearingDown) {
        if (exception == null)         exception=tearingDown;
      }
    }
    if (exception != null)     throw exception;
  }
 catch (  AssertionFailedError e) {
    log.severe(EMPTY_LINE);
    log.log(Level.SEVERE,"ASSERTION FAILED: " + e,e);
    exception=e;
    throw e;
  }
catch (  Throwable e) {
    log.severe(EMPTY_LINE);
    log.log(Level.SEVERE,"EXCEPTION: " + e,e);
    exception=e;
    throw e;
  }
 finally {
    ClockUtil.reset();
  }
}
