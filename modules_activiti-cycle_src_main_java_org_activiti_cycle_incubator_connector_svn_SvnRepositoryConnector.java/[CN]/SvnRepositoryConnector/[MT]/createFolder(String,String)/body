{
  ISVNClientAdapter clientAdapter=getSvnClientAdapter();
  File temporaryFileStrore=null;
  beginTransaction(!transactionActive);
  try {
    temporaryFileStrore=temporaryCheckout(parentFolderId);
    File newDirectory=new File(temporaryFileStrore + File.separator + name);
    createDirectory(newDirectory);
    clientAdapter.addFile(newDirectory);
    String newFolderId=ConnectorPathUtils.buildId(parentFolderId,name);
    createdFolders.put(newFolderId,newDirectory);
    if (this.autocommit) {
      commitPendingChanges("Activiti-Cycle created folder " + name + " in "+ parentFolderId);
    }
    return getRepositoryFolder(newFolderId);
  }
 catch (  Exception e) {
    String error="Error while creating folder" + name + " in "+ parentFolderId;
    log.log(Level.WARNING,error,e);
    if (autocommit) {
      rollbackTransaction();
    }
    throw new RepositoryException(error,e);
  }
}
