{
  ArrayList<RepositoryNode> list=new ArrayList<RepositoryNode>();
  if ("/".equals(parentUrl)) {
    for (    RepositoryNode node : rootNodes) {
      list.add(clone(node));
    }
  }
 else {
    for (    RepositoryNode node : nodes) {
      if (node.getNodeId().startsWith(parentUrl) && !node.getNodeId().equals(parentUrl)) {
        String remainingUrl=node.getNodeId().substring(parentUrl.length() + 1);
        remainingUrl=remainingUrl.substring(0,remainingUrl.length() - 1);
        if (!remainingUrl.contains("/")) {
          list.add(clone(node));
        }
      }
    }
    if (list.size() == 0) {
      throw new RepositoryNodeNotFoundException(RepositoryNodeNotFoundException.createChildrenNotFoundMessage(getConfiguration().getName(),RepositoryFolder.class,parentUrl));
    }
  }
  return new RepositoryNodeCollectionImpl(list);
}
