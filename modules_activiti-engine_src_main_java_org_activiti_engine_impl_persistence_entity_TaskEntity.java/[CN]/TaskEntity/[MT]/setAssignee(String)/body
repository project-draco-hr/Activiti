{
  if (assignee == null && this.assignee == null) {
    return;
  }
  this.assignee=assignee;
  CommandContext commandContext=Context.getCommandContext();
  if (commandContext != null) {
    commandContext.getHistoryManager().recordTaskAssigneeChange(id,assignee);
    if (assignee != null && processInstanceId != null) {
      getProcessInstance().involveUser(assignee,IdentityLinkType.PARTICIPANT);
    }
    fireEvent(TaskListener.EVENTNAME_ASSIGNMENT);
  }
}
