{
  if (authenticate() == false)   return null;
  ProcessDefinitionQuery processDefinitionQuery=ActivitiUtil.getRepositoryService().createProcessDefinitionQuery();
  Form query=getQuery();
  Set<String> names=query.getNames();
  if (names.contains("category")) {
    processDefinitionQuery.processDefinitionCategory(getQueryParameter("category",query));
  }
  if (names.contains("categoryLike")) {
    processDefinitionQuery.processDefinitionCategoryLike(getQueryParameter("categoryLike",query));
  }
  if (names.contains("categoryNotEquals")) {
    processDefinitionQuery.processDefinitionCategoryNotEquals(getQueryParameter("categoryNotEquals",query));
  }
  if (names.contains("key")) {
    processDefinitionQuery.processDefinitionKey(getQueryParameter("key",query));
  }
  if (names.contains("keyLike")) {
    processDefinitionQuery.processDefinitionKeyLike(getQueryParameter("keyLike",query));
  }
  if (names.contains("name")) {
    processDefinitionQuery.processDefinitionName(getQueryParameter("name",query));
  }
  if (names.contains("nameLike")) {
    processDefinitionQuery.processDefinitionNameLike(getQueryParameter("nameLike",query));
  }
  if (names.contains("resourceName")) {
    processDefinitionQuery.processDefinitionResourceName(getQueryParameter("resourceName",query));
  }
  if (names.contains("resourceNameLike")) {
    processDefinitionQuery.processDefinitionResourceNameLike(getQueryParameter("resourceNameLike",query));
  }
  if (names.contains("version")) {
    processDefinitionQuery.processDefinitionVersion(getQueryParameterAsInt("version",query));
  }
  if (names.contains("suspended")) {
    Boolean suspended=getQueryParameterAsBoolean("suspended",query);
    if (suspended != null) {
      if (suspended) {
        processDefinitionQuery.suspended();
      }
 else {
        processDefinitionQuery.active();
      }
    }
  }
  if (names.contains("latest")) {
    Boolean latest=getQueryParameterAsBoolean("latest",query);
    if (latest != null && latest) {
      processDefinitionQuery.latestVersion();
    }
  }
  if (names.contains("deploymentId")) {
    processDefinitionQuery.deploymentId(getQueryParameter("deploymentId",query));
  }
  if (names.contains("startableByUser")) {
    processDefinitionQuery.startableByUser(getQueryParameter("startableByUser",query));
  }
  return new ProcessDefinitionsPaginateList(this).paginateList(getQuery(),processDefinitionQuery,"name",properties);
}
