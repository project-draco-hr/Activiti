{
  VerticalLayout layout=new VerticalLayout();
  layout.addStyleName(Constants.STYLE_TASK_COMMENT);
  layout.setWidth("100%");
  commentGrid.addComponent(layout);
  layout.addListener(new LayoutClickListener(){
    public void layoutClick(    LayoutClickEvent event){
    }
  }
);
  HorizontalLayout commentHeader=new HorizontalLayout();
  commentHeader.setSpacing(true);
  layout.addComponent(commentHeader);
  User user=identityService.createUserQuery().userId(comment.getUserId()).singleResult();
  Label name=new Label(user.getFirstName() + " " + user.getLastName());
  name.setSizeUndefined();
  name.addStyleName(Constants.STYLE_TASK_COMMENT_AUTHOR);
  commentHeader.addComponent(name);
  Label time=new Label(new PrettyTime().format(comment.getTime()));
  time.setSizeUndefined();
  time.addStyleName(Constants.STYLE_TASK_COMMENT_TIME);
  commentHeader.addComponent(time);
  Label text=null;
  if (comment.getMessage().length() < 140) {
    text=new Label(comment.getMessage());
  }
 else {
    text=new Label(comment.getMessage().substring(0,140) + "...");
  }
  text.setWidth("100%");
  layout.addComponent(text);
}
