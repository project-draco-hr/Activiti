{
  List<String> deploymentIds=new ArrayList<String>();
  deploymentIds.add(deployProcessString(("<definitions " + NAMESPACE + " "+ TARGET_NAMESPACE+ ">"+ "  <process id='IDR' name='Insurance Damage Report' />"+ "</definitions>")));
  deploymentIds.add(deployProcessString(("<definitions " + NAMESPACE + " "+ TARGET_NAMESPACE+ ">"+ "  <process id='IDR' name='Insurance Damage Report' />"+ "</definitions>")));
  List<ProcessDefinition> processDefinitions=repositoryService.createProcessDefinitionQuery().orderAsc(ProcessDefinitionQuery.PROPERTY_KEY).orderDesc(ProcessDefinitionQuery.PROPERTY_VERSION).list();
  assertNotNull(processDefinitions);
  assertEquals(2,processDefinitions.size());
  ProcessDefinition processDefinition=processDefinitions.get(0);
  assertEquals("IDR",processDefinition.getKey());
  assertEquals("Insurance Damage Report",processDefinition.getName());
  assertEquals("IDR:2",processDefinition.getId());
  assertEquals(2,processDefinition.getVersion());
  processDefinition=processDefinitions.get(1);
  assertEquals("IDR",processDefinition.getKey());
  assertEquals("Insurance Damage Report",processDefinition.getName());
  assertEquals("IDR:1",processDefinition.getId());
  assertEquals(1,processDefinition.getVersion());
  deleteDeployments(deploymentIds);
}
