{
  ProcessInstance processInstance=runtimeService.startProcessInstanceByKey("oneTaskProcess");
  runtimeService.setVariableLocal(processInstance.getId(),"localTaskVariable","this is a plain string variable");
  ClientResource client=getAuthenticatedClient(RestUrls.createRelativeResourceUrl(RestUrls.URL_PROCESS_INSTANCE_VARIABLE_DATA,processInstance.getId(),"localTaskVariable"));
  try {
    client.get();
    fail("Exception expected");
  }
 catch (  ResourceException expected) {
    assertEquals(Status.CLIENT_ERROR_NOT_FOUND,expected.getStatus());
    assertEquals("The variable does not have a binary data stream.",expected.getStatus().getDescription());
  }
  client=getAuthenticatedClient(RestUrls.createRelativeResourceUrl(RestUrls.URL_PROCESS_INSTANCE_VARIABLE_DATA,processInstance.getId(),"unexistingVariable"));
  try {
    client.get();
    fail("Exception expected");
  }
 catch (  ResourceException expected) {
    assertEquals(Status.CLIENT_ERROR_NOT_FOUND,expected.getStatus());
    assertEquals("Execution '" + processInstance.getId() + "' doesn't have a variable with name: 'unexistingVariable'.",expected.getStatus().getDescription());
  }
}
