{
  ensureVariableInstancesInitialized();
  VariableInstanceEntity variableInstance=variableInstances.get(variableName);
  if ((variableInstance != null) && (!variableInstance.getType().isAbleToStore(value))) {
    removeVariable(variableName);
    variableInstance=null;
  }
  if (variableInstance == null) {
    createVariableLocal(variableName,value,scopes);
  }
 else {
    setVariableInstanceValue(value,variableInstance,scopes);
  }
  return null;
}
