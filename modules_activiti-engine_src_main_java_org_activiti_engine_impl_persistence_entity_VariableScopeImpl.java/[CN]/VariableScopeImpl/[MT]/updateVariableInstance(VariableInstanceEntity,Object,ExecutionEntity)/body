{
  variableInstance.setValue(value);
  int historyLevel=Context.getProcessEngineConfiguration().getHistoryLevel();
  if (historyLevel == ProcessEngineConfigurationImpl.HISTORYLEVEL_FULL) {
    insertHistoricDetailVariableInstanceUpdate(variableInstance,sourceActivityExecution);
  }
  if (historyLevel >= ProcessEngineConfigurationImpl.HISTORYLEVEL_AUDIT) {
    updateHistoricVariableInstanceValue(variableInstance);
  }
}
