{
  Task task=deployer.getTaskService().newTask();
  task.setName("testTask");
  deployer.getTaskService().saveTask(task);
  String taskId=task.getId();
  deployer.getTaskService().addCandidateUser(taskId,"kermit");
  deployer.getTaskService().addCandidateUser(taskId,"gonzo");
  List<Task> tasks=deployer.getTaskService().findUnassignedTasks("kermit");
  assertEquals(1,tasks.size());
  assertEquals("testTask",tasks.get(0).getName());
  tasks=deployer.getTaskService().findUnassignedTasks("gonzo");
  assertEquals(1,tasks.size());
  assertEquals("testTask",tasks.get(0).getName());
  deployer.getTaskService().claim(taskId,"kermit");
  assertTrue(deployer.getTaskService().findUnassignedTasks("kermit").isEmpty());
  assertTrue(deployer.getTaskService().findUnassignedTasks("gonzo").isEmpty());
  deployer.getTaskService().complete(taskId);
  assertNull(deployer.getTaskService().findTask(taskId));
}
