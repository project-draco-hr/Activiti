{
  String configurationString=configurationService.getConfigurationValue("processSolutionTemplates","default");
  if (configurationString == null) {
    throw new RuntimeException("No ProcessSolutionTemplate found using group='processSolutionTemplates' and key='default'");
  }
  DocumentBuilderFactory dbf=DocumentBuilderFactory.newInstance();
  DocumentBuilder db=dbf.newDocumentBuilder();
  Document configurationDocument=db.parse(new ByteArrayInputStream(configurationString.getBytes()));
  List<VirtualRepositoryFolder> resultList=new ArrayList<VirtualRepositoryFolder>();
  NodeList vFolderElementList=configurationDocument.getElementsByTagName("vFolder");
  for (int i=0; i < vFolderElementList.getLength(); i++) {
    Node node=vFolderElementList.item(i);
    if (!(node instanceof Element)) {
      continue;
    }
    Element element=(Element)node;
    String type=element.getAttribute("type");
    String name=element.getAttribute("name");
    String connectorId=element.getAttribute("connectorId");
    String referencedNodeId=element.getAttribute("referencedNodeId");
    VirtualRepositoryFolderEntity virtualRepositoryFolderEntity=new VirtualRepositoryFolderEntity();
    virtualRepositoryFolderEntity.setType(type);
    virtualRepositoryFolderEntity.setLabel(name);
    virtualRepositoryFolderEntity.setConnectorId(connectorId);
    virtualRepositoryFolderEntity.setReferencedNodeId(referencedNodeId);
    resultList.add(virtualRepositoryFolderEntity);
  }
  return resultList;
}
