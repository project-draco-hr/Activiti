{
  CamelContext ctx=applicationContext.getBean(CamelContext.class);
  ProducerTemplate tpl=ctx.createProducerTemplate();
  service1.expectedBodiesReceived("ala");
  String instanceId=(String)tpl.requestBody("direct:start",Collections.singletonMap("var1","ala"));
  tpl.sendBodyAndProperty("direct:receive",null,ActivitiProducer.PROCESS_ID_PROPERTY,instanceId);
  assertProcessEnded(instanceId);
  service1.assertIsSatisfied();
  Map m=service2.getExchanges().get(0).getIn().getBody(Map.class);
  assertEquals("ala",m.get("var1"));
  assertEquals("var2",m.get("var2"));
}
