{
  if (propertyType == null) {
    String type=propertyElement.attribute("activiti:type");
    propertyType=type != null ? type : "string";
  }
  activity.createVariableDeclaration(propertyName,propertyType);
  String src=propertyElement.attributeNS(BpmnParser.BPMN_EXTENSIONS_NS,"src");
  if (src != null) {
    activity.addEventListener(Listener.EVENTNAME_START,new VariableInitializeWithVariable(src,propertyName));
  }
  String srcExpr=propertyElement.attributeNS(BpmnParser.BPMN_EXTENSIONS_NS,"srcExpr");
  if (srcExpr != null) {
    activity.addEventListener(Listener.EVENTNAME_START,new VariableInitializeWithExpression(propertyName,srcExpr,"juel"));
  }
  String dst=propertyElement.attributeNS(BpmnParser.BPMN_EXTENSIONS_NS,"dst");
  if (dst != null) {
    activity.addEventListener(Listener.EVENTNAME_END,new VariableDestroyWithVariable(propertyName,dst));
  }
  String destExpr=propertyElement.attributeNS(BpmnParser.BPMN_EXTENSIONS_NS,"dstExpr");
  if (destExpr != null) {
    activity.addEventListener(Listener.EVENTNAME_END,new VariableDestroyWithExpression(propertyName,destExpr,"juel"));
  }
  String link=propertyElement.attributeNS(BpmnParser.BPMN_EXTENSIONS_NS,"link");
  if (link != null) {
    activity.addEventListener(Listener.EVENTNAME_START,new VariableInitializeWithVariable(link,propertyName));
    activity.addEventListener(Listener.EVENTNAME_END,new VariableDestroyWithVariable(propertyName,link));
  }
  String linkExpr=propertyElement.attributeNS(BpmnParser.BPMN_EXTENSIONS_NS,"linkExpr");
  if (linkExpr != null) {
    ExpressionManager expressionManager=commandContext.getExpressionManager();
    expressionManager.createValueExpression(linkExpr);
    activity.addEventListener(Listener.EVENTNAME_START,new VariableInitializeWithExpression(linkExpr,propertyName,"juel"));
    activity.addEventListener(Listener.EVENTNAME_END,new VariableDestroyWithExpression(propertyName,linkExpr,"juel"));
  }
}
