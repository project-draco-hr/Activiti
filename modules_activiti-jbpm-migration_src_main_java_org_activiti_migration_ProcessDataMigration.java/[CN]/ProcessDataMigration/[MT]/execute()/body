{
  if (LOGGER.isLoggable(Level.INFO)) {
    LOGGER.info("Process migration started. Working directory = '" + workingDir + "'");
  }
  ProcessConversionService processConversionService=serviceFactory.getProcessConversionService();
  Map<String,Document> migratedProcesses=processConversionService.convertAllProcessDefinitions();
  if (LOGGER.isLoggable(Level.INFO)) {
    LOGGER.info("Writing converted processes ...");
  }
  writeConvertedProcesses(migratedProcesses,workingDir);
  if (LOGGER.isLoggable(Level.INFO)) {
    LOGGER.info("Deploying converted processes to Activiti ... ");
  }
  ActivitiService activitiService=serviceFactory.getActivitiService();
  activitiService.deployConvertedProcesses(migratedProcesses);
}
