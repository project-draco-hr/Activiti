{
  if (authenticate() == false)   return null;
  String taskId=(String)getRequest().getAttributes().get("taskId");
  Object form=ActivitiUtil.getFormService().getRenderedTaskForm(taskId);
  InputStream is=null;
  if (form != null && form instanceof String) {
    is=new ByteArrayInputStream(((String)form).getBytes());
  }
 else   if (form != null && form instanceof InputStream) {
    is=(InputStream)form;
  }
  if (is != null) {
    InputRepresentation output=new InputRepresentation(is);
    return output;
  }
 else   if (form != null) {
    throw new ActivitiException("The form for task '" + taskId + "' cannot be rendered using the rest api.");
  }
 else {
    throw new ActivitiObjectNotFoundException("There is no form for task '" + taskId + "'.",null);
  }
}
