{
  ProcessInstance processInstance=runtimeService.startProcessInstanceByKey("testJobEvents");
  Job theJob=managementService.createJobQuery().processInstanceId(processInstance.getId()).singleResult();
  assertNotNull(theJob);
  Calendar tomorrow=Calendar.getInstance();
  tomorrow.add(Calendar.DAY_OF_YEAR,1);
  processEngineConfiguration.getClock().setCurrentTime(tomorrow.getTime());
  waitForJobExecutorToProcessAllJobs(2000,100);
  assertEquals(1,listener.getEventsReceived().size());
  ActivitiEvent timeOutEvent=listener.getEventsReceived().get(0);
  assertEquals("ACTIVITY_TIMEOUT evet expected",ActivitiEventType.ACTIVITY_TIMEOUT,timeOutEvent.getType());
}
