{
  if (imageStream == null) {
    return null;
  }
  Bounds diagramBoundsXml=getDiagramBoundsFromBpmnDi(bpmnModel);
  Bounds diagramBoundsImage;
  if (isExportedFromAdonis50(bpmnModel)) {
    int offsetTop=29;
    int offsetBottom=61;
    diagramBoundsImage=getDiagramBoundsFromImage(imageStream,offsetTop,offsetBottom);
  }
 else {
    diagramBoundsImage=getDiagramBoundsFromImage(imageStream);
  }
  Map<String,Bounds> listOfBounds=new HashMap<String,Bounds>();
  listOfBounds.put("BPMNDiagram",diagramBoundsXml);
  listOfBounds.putAll(fixFlowNodePositionsIfModelFromAdonis(bpmnModel,getElementBoundsFromBpmnDi(bpmnModel)));
  Map<String,Bounds> listOfBoundsForImage=transformBoundsForImage(diagramBoundsImage,diagramBoundsXml,listOfBounds);
  return listOfBoundsForImage;
}
