{
  isActive=true;
  log.fine(getClass().getName() + " is started");
  while (isActive) {
    MailScanCmd mailScanCmd=getNextMailScanCmd();
    if (mailScanCmd != null) {
      try {
        commandExecutor.execute(mailScanCmd);
      }
 catch (      Exception e) {
        String userId=mailScanCmd.getUserId();
        log.log(Level.SEVERE,"couldn't check todo mail for " + userId + ": "+ e.getMessage(),e);
      }
    }
    try {
      Thread.sleep(5 * 1000);
    }
 catch (    InterruptedException e1) {
      e1.printStackTrace();
    }
  }
  log.fine(getClass().getName() + " is stopping");
}
