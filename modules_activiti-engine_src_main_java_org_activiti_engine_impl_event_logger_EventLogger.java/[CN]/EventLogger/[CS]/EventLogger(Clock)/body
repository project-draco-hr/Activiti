{
  this.clock=clock;
  this.objectMapper=new ObjectMapper();
  addEventHandler(ActivitiEventType.TASK_CREATED,TaskCreatedEventHandler.class);
  addEventHandler(ActivitiEventType.TASK_COMPLETED,TaskCompletedEventHandler.class);
  addEventHandler(ActivitiEventType.SEQUENCEFLOW_TAKEN,SequenceFlowTakenEventHandler.class);
  addEventHandler(ActivitiEventType.ACTIVITY_COMPLETED,ActivityCompletedEventHandler.class);
  addEventHandler(ActivitiEventType.ACTIVITY_STARTED,ActivityStartedEventHandler.class);
  addEventHandler(ActivitiEventType.VARIABLE_CREATED,VariableCreatedEventHandler.class);
  addEventHandler(ActivitiEventType.VARIABLE_DELETED,VariableDeletedEventHandler.class);
  addEventHandler(ActivitiEventType.VARIABLE_UPDATED,VariableUpdatedEventHandler.class);
}
