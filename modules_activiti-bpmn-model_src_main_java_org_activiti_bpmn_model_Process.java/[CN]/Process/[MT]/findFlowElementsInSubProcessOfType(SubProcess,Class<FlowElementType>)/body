{
  List<FlowElementType> foundFlowElements=new ArrayList<FlowElementType>();
  for (  FlowElement flowElement : subProcess.getFlowElements()) {
    if (type.isInstance(flowElement)) {
      foundFlowElements.add((FlowElementType)flowElement);
    }
    if (flowElement instanceof SubProcess) {
      foundFlowElements.addAll(findFlowElementsInSubProcessOfType((SubProcess)flowElement,type));
    }
  }
  return foundFlowElements;
}
