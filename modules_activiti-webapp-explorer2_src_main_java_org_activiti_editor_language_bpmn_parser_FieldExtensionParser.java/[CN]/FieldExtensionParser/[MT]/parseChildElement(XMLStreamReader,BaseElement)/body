{
  if (parentElement instanceof ActivitiListener == false && parentElement instanceof ServiceTask == false)   return;
  FieldExtension extension=new FieldExtension();
  extension.setFieldName(xtr.getAttributeValue(null,"name"));
  if (StringUtils.isNotEmpty(xtr.getAttributeValue(null,"stringValue"))) {
    extension.setExpression(xtr.getAttributeValue(null,"stringValue"));
  }
 else   if (StringUtils.isNotEmpty(xtr.getAttributeValue(null,"expression"))) {
    extension.setExpression(xtr.getAttributeValue(null,"expression"));
  }
 else {
    boolean readyWithFieldExtension=false;
    try {
      while (readyWithFieldExtension == false && xtr.hasNext()) {
        xtr.next();
        if (xtr.isStartElement() && "string".equalsIgnoreCase(xtr.getLocalName())) {
          extension.setExpression(xtr.getElementText().trim());
        }
 else         if (xtr.isStartElement() && "expression".equalsIgnoreCase(xtr.getLocalName())) {
          extension.setExpression(xtr.getElementText().trim());
        }
 else         if (xtr.isEndElement() && getElementName().equalsIgnoreCase(xtr.getLocalName())) {
          readyWithFieldExtension=true;
        }
      }
    }
 catch (    Exception e) {
      LOGGER.log(Level.WARNING,"Error parsing field extension child elements",e);
    }
  }
  if (parentElement instanceof ActivitiListener) {
    ((ActivitiListener)parentElement).getFieldExtensions().add(extension);
  }
 else {
    ((ServiceTask)parentElement).getFieldExtensions().add(extension);
  }
}
