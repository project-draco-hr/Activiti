{
  RepositorySession repositorySession=commandContext.getRepositorySession();
  ProcessDefinitionEntity processDefinition=repositorySession.findDeployedProcessDefinitionById(processDefinitionId);
  if (processDefinition == null) {
    throw new ActivitiException("Process Definition '" + processDefinitionId + "' not found");
  }
  StartFormHandler startFormHandler=processDefinition.getStartFormHandler();
  if (startFormHandler == null) {
    return null;
  }
  FormEngine formEngine=commandContext.getProcessEngineConfiguration().getFormEngines().get(formEngineName);
  if (formEngine == null) {
    throw new ActivitiException("No formEngine '" + formEngineName + "' defined process engine configuration");
  }
  StartFormInstance startFormInstance=startFormHandler.createStartFormInstance(processDefinition);
  return formEngine.renderStartForm(startFormInstance);
}
