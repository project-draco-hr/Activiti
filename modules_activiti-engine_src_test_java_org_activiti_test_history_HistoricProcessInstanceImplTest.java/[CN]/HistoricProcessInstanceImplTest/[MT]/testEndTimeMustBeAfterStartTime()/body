{
  assertIllegalArgumentException("before start time",new Runnable(){
    public void run(){
      Date startTime=new Date();
      Date endTime=new Date(startTime.getTime() - 1000);
      HistoricProcessInstanceImpl historicProcessInstance=new HistoricProcessInstanceImpl("processInstanceId","processDefinitionId",startTime);
      historicProcessInstance.markEnded(endTime,"endStateName");
    }
  }
);
}
