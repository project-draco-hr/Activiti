{
  ConfigurationContainer enterpriseConfiguration=new ConfigurationContainer("camunda");
  RepositoryConnectorConfiguration conf1=new SignavioConnectorConfiguration("Activiti Modeler","http://localhost:8080/activiti-modeler/");
  enterpriseConfiguration.addRepositoryConnectorConfiguration(conf1);
  ConfigurationContainer userConfiguration=new ConfigurationContainer("bernd");
  userConfiguration.addParent(enterpriseConfiguration);
  RepositoryConnectorConfiguration conf2=new FileSystemConnectorConfiguration("Hard Drive",new File("c:"));
  userConfiguration.addRepositoryConnectorConfiguration(conf2);
  RepositoryConnectorConfiguration conf3=new SignavioConnectorConfiguration("Signavio SAAS","http://editor.signavio.com/",null,"bernd.ruecker@camunda.com","xxx");
  userConfiguration.addRepositoryConnectorConfiguration(conf3);
  configurationService.saveConfiguration(enterpriseConfiguration);
  configurationService.saveConfiguration(userConfiguration);
  ConfigurationContainer loadedConf=configurationService.getConfiguration("bernd");
  List<RepositoryConnectorConfiguration> connectors=loadedConf.getConnectorConfigurations();
  assertEquals(3,connectors.size());
  assertEquals("Hard Drive",connectors.get(0).getName());
  assertEquals("Signavio SAAS",connectors.get(1).getName());
  assertEquals("Activiti Modeler",connectors.get(2).getName());
  RepositoryConnector connector=new CustomizedViewConfiguration("http://localhost:8080/activiti-cycle/",loadedConf).createConnector();
}
