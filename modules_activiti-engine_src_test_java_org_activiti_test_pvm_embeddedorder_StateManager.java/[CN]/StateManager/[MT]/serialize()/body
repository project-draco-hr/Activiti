{
  String state=((ExecutionImpl)processInstance).getActivity().getId();
  try {
    Field field=target.getClass().getDeclaredField(stateFieldName);
    field.setAccessible(true);
    field.set(target,state);
  }
 catch (  Exception e) {
    throw new ActivitiException("couldn't set field " + stateFieldName,e);
  }
}
