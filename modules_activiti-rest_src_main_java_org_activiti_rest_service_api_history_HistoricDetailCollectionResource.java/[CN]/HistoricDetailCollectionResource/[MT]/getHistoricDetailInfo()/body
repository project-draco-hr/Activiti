{
  if (!authenticate()) {
    return null;
  }
  Form urlQuery=getQuery();
  HistoricDetailQueryRequest queryRequest=new HistoricDetailQueryRequest();
  if (getQueryParameter("id",urlQuery) != null) {
    queryRequest.setId(getQueryParameter("id",urlQuery));
  }
  if (getQueryParameter("processInstanceId",urlQuery) != null) {
    queryRequest.setProcessInstanceId(getQueryParameter("processInstanceId",urlQuery));
  }
  if (getQueryParameter("executionId",urlQuery) != null) {
    queryRequest.setExecutionId(getQueryParameter("executionId",urlQuery));
  }
  if (getQueryParameter("activityInstanceId",urlQuery) != null) {
    queryRequest.setActivityInstanceId(getQueryParameter("activityInstanceId",urlQuery));
  }
  if (getQueryParameter("taskId",urlQuery) != null) {
    queryRequest.setTaskId(getQueryParameter("taskId",urlQuery));
  }
  if (getQueryParameter("selectOnlyFormProperties",urlQuery) != null) {
    queryRequest.setSelectOnlyFormProperties(getQueryParameterAsBoolean("selectOnlyFormProperties",urlQuery));
  }
  if (getQueryParameter("selectOnlyVariableUpdates",urlQuery) != null) {
    queryRequest.setSelectOnlyVariableUpdates(getQueryParameterAsBoolean("selectOnlyVariableUpdates",urlQuery));
  }
  return getQueryResponse(queryRequest,urlQuery);
}
