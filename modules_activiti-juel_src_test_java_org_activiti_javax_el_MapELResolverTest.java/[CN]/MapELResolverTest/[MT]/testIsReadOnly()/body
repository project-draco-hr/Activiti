{
  Integer scalar=0;
  Map<Integer,Integer> map=sampleMap();
  MapELResolver resolver=new MapELResolver();
  MapELResolver resolverReadOnly=new MapELResolver(true);
  context.setPropertyResolved(false);
  assertFalse(resolver.isReadOnly(context,null,"foo"));
  assertFalse(context.isPropertyResolved());
  context.setPropertyResolved(false);
  assertFalse(resolver.isReadOnly(context,scalar,"foo"));
  assertFalse(context.isPropertyResolved());
  context.setPropertyResolved(false);
  assertFalse(resolver.isReadOnly(context,map,1));
  assertTrue(context.isPropertyResolved());
  context.setPropertyResolved(false);
  assertTrue(resolverReadOnly.isReadOnly(context,map,1));
  assertTrue(context.isPropertyResolved());
  context.setPropertyResolved(false);
  assertFalse(resolver.isReadOnly(context,map,"foo"));
  assertTrue(context.isPropertyResolved());
  context.setPropertyResolved(false);
  assertFalse(resolver.isReadOnly(context,map,null));
  assertTrue(context.isPropertyResolved());
}
