{
  ProcessInstanceQuery query=processService.createProcessInstanceQuery().processDefinitionKey(PROCESS_KEY);
  assertEquals(4,query.count());
  assertEquals(4,query.list().size());
  try {
    query.singleResult();
    fail();
  }
 catch (  ActivitiException e) {
  }
  query=processService.createProcessInstanceQuery().processDefinitionKey(PROCESS_KEY_2);
  assertEquals(1,query.count());
  assertEquals(1,query.list().size());
  assertNotNull(query.singleResult());
}
