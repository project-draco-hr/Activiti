{
  String targetFolderId=getParameter(parameters,PARAM_TARGET_FOLDER,true,null,String.class);
  String targetName=getParameter(parameters,PARAM_TARGET_NAME,false,artifact.getMetadata().getName(),String.class);
  String comment=getParameter(parameters,PARAM_COMMENT_NAME,false,null,String.class);
  RepositoryConnector targetConnector=getParameter(parameters,PARAM_TARGET_CONNECTOR,true,null,RepositoryConnector.class);
  boolean createLink=getParameter(parameters,CREATE_LINK_NAME,true,Boolean.TRUE,Boolean.class);
  Content content=getContent(artifact,connector);
  targetName=getName(targetName);
  RepositoryArtifact targetArtifact=targetConnector.createArtifact(targetFolderId,targetName,artifact.getArtifactType().getName(),content);
  if (createLink) {
    RepositoryArtifactLink link=new RepositoryArtifactLinkEntity();
    link.setSourceArtifact(artifact);
    link.setTargetArtifact(targetArtifact);
    link.setComment(comment);
    link.setLinkType(RepositoryArtifactLinkEntity.TYPE_COPY);
    CycleRepositoryService repositoryService=CycleServiceFactory.getRepositoryService();
    repositoryService.addArtifactLink(link);
  }
}
