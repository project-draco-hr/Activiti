{
  super.end();
  ensureVariableMapInitialized();
  RuntimeSession runtimeSession=CommandContext.getCurrent().getPersistenceSession();
  Set<String> variableNames=new HashSet<String>(variableMap.getVariableNames());
  for (  String variableName : variableNames) {
    variableMap.deleteVariable(variableName);
  }
  List<TaskEntity> tasks=runtimeSession.findTasksByExecution(id);
  for (  TaskEntity task : tasks) {
    task.delete();
  }
  runtimeSession.delete(this);
}
