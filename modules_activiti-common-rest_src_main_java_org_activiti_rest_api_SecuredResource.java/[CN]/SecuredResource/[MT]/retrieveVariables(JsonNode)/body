{
  Map<String,Object> variables=new HashMap<String,Object>();
  if (jsonNode != null) {
    Iterator<String> itName=jsonNode.getFieldNames();
    while (itName.hasNext()) {
      String name=itName.next();
      JsonNode valueNode=jsonNode.path(name);
      if (valueNode.isBoolean()) {
        variables.put(name,valueNode.getBooleanValue());
      }
 else       if (valueNode.isInt()) {
        variables.put(name,valueNode.getIntValue());
      }
 else       if (valueNode.isLong()) {
        variables.put(name,valueNode.getLongValue());
      }
 else       if (valueNode.isDouble()) {
        variables.put(name,valueNode.getDoubleValue());
      }
 else       if (valueNode.isTextual()) {
        variables.put(name,valueNode.getTextValue());
      }
 else {
        variables.put(name,valueNode.getValueAsText());
      }
    }
  }
  return variables;
}
