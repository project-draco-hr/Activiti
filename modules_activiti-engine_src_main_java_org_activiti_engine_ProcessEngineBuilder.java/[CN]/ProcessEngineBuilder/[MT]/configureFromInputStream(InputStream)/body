{
  if (inputStream == null) {
    throw new ActivitiException("inputStream is null");
  }
  ConfigurationParser cfgParser=new ConfigurationParser();
  ConfigurationParse cfgParse=cfgParser.createParse().sourceInputStream(inputStream).execute();
  String processEngineName=cfgParse.getProcessEngineName();
  if (processEngineName != null) {
    processEngineConfiguration.setProcessEngineName(processEngineName);
  }
  String databaseType=cfgParse.getDatabaseType();
  if (databaseType != null) {
    processEngineConfiguration.setDatabaseType(databaseType);
  }
  String databaseSchemaStrategy=cfgParse.getDatabaseSchemaStrategy();
  if (databaseSchemaStrategy != null) {
    processEngineConfiguration.setDbSchemaStrategy(databaseSchemaStrategy);
  }
  if (cfgParse.isJdbcConfigured()) {
    String databaseUrl=cfgParse.getJdbcUrl();
    if (databaseUrl != null) {
      processEngineConfiguration.setJdbcUrl(databaseUrl);
    }
    String databaseDriver=cfgParse.getJdbcDriver();
    if (databaseDriver != null) {
      processEngineConfiguration.setJdbcDriver(databaseDriver);
    }
    String databaseUsername=cfgParse.getJdbcUsername();
    if (databaseUsername != null) {
      processEngineConfiguration.setJdbcUsername(databaseUsername);
    }
    String databasePassword=cfgParse.getJdbcPassword();
    if (databasePassword != null) {
      processEngineConfiguration.setJdbcPassword(databasePassword);
    }
    Integer maxActiveConnections=cfgParse.getMaxActiveConnections();
    if (maxActiveConnections != null) {
      processEngineConfiguration.setMaxActiveConnections(maxActiveConnections);
    }
    Integer maxIdleConnections=cfgParse.getMaxIdleConnections();
    if (maxIdleConnections != null) {
      processEngineConfiguration.setMaxIdleConnections(maxIdleConnections);
    }
    Integer maxCheckoutTime=cfgParse.getMaxCheckoutTime();
    if (maxCheckoutTime != null) {
      processEngineConfiguration.setMaxCheckoutTime(maxCheckoutTime);
    }
    Integer maxWaitTime=cfgParse.getMaxWaitTime();
    if (maxWaitTime != null) {
      processEngineConfiguration.setMaxWaitTime(maxWaitTime);
    }
  }
  String mailServerHost=cfgParse.getMailServerHost();
  if (mailServerHost != null) {
    processEngineConfiguration.setMailServerHost(mailServerHost);
  }
  Integer mailServerPort=cfgParse.getMailServerPort();
  if (mailServerPort != null) {
    processEngineConfiguration.setMailServerPort(mailServerPort);
  }
  String mailServerUsername=cfgParse.getMailServerUsername();
  if (mailServerUsername != null) {
    processEngineConfiguration.setMailServerUsername(mailServerUsername);
  }
  String mailServerPassword=cfgParse.getMailServerPassword();
  if (mailServerPassword != null) {
    processEngineConfiguration.setMailServerPassword(mailServerPassword);
  }
  String mailDefaultFrom=cfgParse.getMailDefaultFrom();
  if (mailDefaultFrom != null) {
    processEngineConfiguration.setMailServerDefaultFrom(mailDefaultFrom);
  }
  Boolean jobExecutorActivate=cfgParse.getJobExecutorActivate();
  if (jobExecutorActivate != null) {
    processEngineConfiguration.setJobExecutorActivate(jobExecutorActivate);
  }
  Integer historyLevel=cfgParse.getHistoryLevel();
  if (historyLevel != null) {
    processEngineConfiguration.setHistoryLevel(historyLevel);
  }
  return this;
}
