{
  if (!authenticate()) {
    return null;
  }
  String processInstanceId=getAttribute("processInstanceId");
  if (processInstanceId == null) {
    throw new ActivitiIllegalArgumentException("The processInstanceId cannot be null");
  }
  List<HistoricIdentityLink> identityLinks=ActivitiUtil.getHistoryService().getHistoricIdentityLinksForProcessInstance(processInstanceId);
  List<HistoricIdentityLinkResponse> responseList=new ArrayList<HistoricIdentityLinkResponse>();
  if (identityLinks != null) {
    RestResponseFactory restResponseFactory=getApplication(ActivitiRestServicesApplication.class).getRestResponseFactory();
    for (    HistoricIdentityLink instance : identityLinks) {
      responseList.add(restResponseFactory.createHistoricIdentityLinkResponse(this,instance));
    }
  }
  return responseList;
}
