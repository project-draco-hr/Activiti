{
  ScriptingEngines scriptingEngines=new ScriptingEngines();
  ObjectProcessDefinition processDefinition=ProcessDefinitionBuilder.createProcessDefinitionBuilder().createActivity("start").initial().behavior(new Automatic()).transition("checkCredit").endActivity().createActivity("checkCredit").behavior(new Decision()).transition("takeToGolf",new ExpressionCondition(scriptingEngines,"${creditRating=='Aaa-'}",ScriptingEngines.DEFAULT_SCRIPTING_LANGUAGE)).transition("askDaughterOut",new ExpressionCondition(scriptingEngines,"${creditRating=='AAA+'}",ScriptingEngines.DEFAULT_SCRIPTING_LANGUAGE)).transition("ignore").endActivity().createActivity("takeToGolf").behavior(new WaitState()).endActivity().createActivity("askDaughterOut").behavior(new WaitState()).endActivity().createActivity("ignore").behavior(new WaitState()).endActivity().build();
  ObjectProcessInstance processInstance=processDefinition.createProcessInstance().variable("creditRating","Aaa-").start();
  assertTrue(processInstance.isActive("takeToGolf"));
  processInstance=processDefinition.createProcessInstance().variable("creditRating","AAA+").start();
  assertTrue(processInstance.isActive("askDaughterOut"));
  processInstance=processDefinition.createProcessInstance().variable("creditRating","bb-").start();
  assertTrue(processInstance.isActive("ignore"));
}
