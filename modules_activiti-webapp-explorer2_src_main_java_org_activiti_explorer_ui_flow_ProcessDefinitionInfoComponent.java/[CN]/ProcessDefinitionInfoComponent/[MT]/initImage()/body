{
  VerticalLayout processImageContainer=new VerticalLayout();
  Label processTitle=new Label("Flow Image");
  processTitle.addStyleName(ExplorerLayout.STYLE_PROCESS_DEFINITION_DETAILS_HEADER);
  processImageContainer.addComponent(processTitle);
  if (processDefinition.getDiagramResourceName() != null) {
    StreamResource diagram=new ProcessDefinitionImageStreamResourceBuilder().buildStreamResource(processDefinition,repositoryService);
    Embedded embedded=new Embedded("",diagram);
    embedded.setType(Embedded.TYPE_IMAGE);
    processImageContainer.addComponent(embedded);
  }
 else {
    Label noImageAvailable=new Label("No image available for this flow");
    processImageContainer.addComponent(noImageAvailable);
  }
  addComponent(processImageContainer);
}
