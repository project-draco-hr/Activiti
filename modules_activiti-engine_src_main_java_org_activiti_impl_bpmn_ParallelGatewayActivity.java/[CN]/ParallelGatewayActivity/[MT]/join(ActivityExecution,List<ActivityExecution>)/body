{
  for (  ActivityExecution joinedExecution : joinedExecutions) {
    joinedExecution.getExecutionController().end();
  }
  CommandContext.getCurrent().getPersistenceSession().flush();
  ActivityExecution outgoingExecution=execution.getExecutionController().createExecution();
  outgoingExecution.getExecutionController().setActivity(execution.getActivity());
  return outgoingExecution;
}
