{
  if (authenticate() == false)   return;
  if (signalRequest.getSignalName() == null) {
    throw new ActivitiIllegalArgumentException("signalName is required");
  }
  Map<String,Object> signalVariables=null;
  if (signalRequest.getVariables() != null) {
    RestResponseFactory factory=getApplication(ActivitiRestServicesApplication.class).getRestResponseFactory();
    signalVariables=new HashMap<String,Object>();
    for (    RestVariable variable : signalRequest.getVariables()) {
      if (variable.getName() == null) {
        throw new ActivitiIllegalArgumentException("Variable name is required.");
      }
      signalVariables.put(variable.getName(),factory.getVariableValue(variable));
    }
  }
  if (signalRequest.isAsync()) {
    if (signalVariables != null) {
      throw new ActivitiIllegalArgumentException("Async signals cannot take variables as payload");
    }
    if (signalRequest.isCustomTenantSet()) {
      ActivitiUtil.getRuntimeService().signalEventReceivedAsyncWithTenantId(signalRequest.getSignalName(),signalRequest.getTenantId());
    }
 else {
      ActivitiUtil.getRuntimeService().signalEventReceivedAsync(signalRequest.getSignalName());
    }
    setStatus(Status.SUCCESS_ACCEPTED);
  }
 else {
    if (signalRequest.isCustomTenantSet()) {
      ActivitiUtil.getRuntimeService().signalEventReceivedWithTenantId(signalRequest.getSignalName(),signalVariables,signalRequest.getTenantId());
    }
 else {
      ActivitiUtil.getRuntimeService().signalEventReceived(signalRequest.getSignalName(),signalVariables);
    }
    setStatus(Status.SUCCESS_OK);
  }
}
