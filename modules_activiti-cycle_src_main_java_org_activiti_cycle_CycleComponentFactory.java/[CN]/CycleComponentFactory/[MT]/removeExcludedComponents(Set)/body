{
  Set<Object> excludedComponents=new HashSet<Object>();
  for (  Object object : components) {
    ExcludesCycleComponents excludesAnnotation=object.getClass().getAnnotation(ExcludesCycleComponents.class);
    if (excludesAnnotation == null) {
      continue;
    }
    String[] componentNames=excludesAnnotation.value();
    if (componentNames != null) {
      for (      String componentName : componentNames) {
        Object excludedComponentInstance=getCycleComponentInstance(componentName);
        if (excludedComponentInstance != null) {
          excludedComponents.add(excludedComponentInstance);
        }
      }
    }
    Class[] classes=excludesAnnotation.classes();
    if (classes != null) {
      for (      Class excludedComponentClass : classes) {
        Object excludedComponentInstance=getCycleComponentInstance(excludedComponentClass);
        if (object != null) {
          excludedComponents.add(excludedComponentInstance);
        }
      }
    }
  }
  components.removeAll(excludedComponents);
}
