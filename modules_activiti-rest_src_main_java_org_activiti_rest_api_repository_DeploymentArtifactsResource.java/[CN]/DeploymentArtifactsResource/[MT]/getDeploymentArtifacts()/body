{
  if (authenticate() == false)   return null;
  String deploymentId=(String)getRequest().getAttributes().get("deploymentId");
  if (deploymentId == null) {
    throw new ActivitiException("No deployment id provided");
  }
  Deployment deployment=ActivitiUtil.getRepositoryService().createDeploymentQuery().deploymentId(deploymentId).singleResult();
  List<String> resourceList=ActivitiUtil.getRepositoryService().getDeploymentResourceNames(deploymentId);
  ObjectNode responseJSON=new ObjectMapper().createObjectNode();
  responseJSON.put("id",deployment.getId());
  responseJSON.put("name",deployment.getName());
  responseJSON.put("deploymentTime",RequestUtil.dateToString(deployment.getDeploymentTime()));
  responseJSON.put("category",deployment.getCategory());
  ArrayNode resourceArray=new ObjectMapper().createArrayNode();
  for (  String resourceName : resourceList) {
    resourceArray.add(resourceName);
  }
  responseJSON.put("resources",resourceArray);
  return responseJSON;
}
