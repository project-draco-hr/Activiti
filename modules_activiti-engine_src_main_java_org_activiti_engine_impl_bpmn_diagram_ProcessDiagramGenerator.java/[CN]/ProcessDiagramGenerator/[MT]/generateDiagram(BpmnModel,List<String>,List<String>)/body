{
  ProcessDiagramCanvas processDiagramCanvas=initProcessDiagramCanvas(bpmnModel);
  for (  Pool pool : bpmnModel.getPools()) {
    GraphicInfo graphicInfo=bpmnModel.getGraphicInfo(pool.getId());
    processDiagramCanvas.drawPoolOrLane(pool.getName(),(int)graphicInfo.getX(),(int)graphicInfo.getY(),(int)graphicInfo.getWidth(),(int)graphicInfo.getHeight());
  }
  for (  Process process : bpmnModel.getProcesses()) {
    for (    Lane lane : process.getLanes()) {
      GraphicInfo graphicInfo=bpmnModel.getGraphicInfo(lane.getId());
      processDiagramCanvas.drawPoolOrLane(lane.getName(),(int)graphicInfo.getX(),(int)graphicInfo.getY(),(int)graphicInfo.getWidth(),(int)graphicInfo.getHeight());
    }
  }
  for (  FlowNode flowNode : bpmnModel.getProcesses().get(0).findFlowElementsOfType(FlowNode.class)) {
    drawActivity(processDiagramCanvas,bpmnModel,flowNode,highLightedActivities,highLightedFlows);
  }
  for (  Process process : bpmnModel.getProcesses()) {
    for (    Artifact artifact : process.getArtifacts()) {
      drawArtifact(processDiagramCanvas,bpmnModel,artifact);
    }
  }
  return processDiagramCanvas;
}
