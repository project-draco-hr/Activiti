{
  Object startForm=repositoryService.getStartFormByKey("vacationRequest");
  assertNotNull(startForm);
  ProcessDefinition processDefinition=repositoryService.createProcessDefinitionQuery().singleResult();
  assertEquals("org/activiti/examples/taskforms/request.form",processDefinition.getStartFormResourceKey());
  Map<String,Object> variables=new HashMap<String,Object>();
  variables.put("employeeName","kermit");
  variables.put("numberOfDays","4");
  variables.put("vacationMotivation","I'm tired");
  runtimeService.startProcessInstanceByKey("vacationRequest",variables);
  Task task=taskService.createTaskQuery().candidateGroup("management").singleResult();
  assertEquals("Vacation request by kermit",task.getDescription());
  Object taskForm=taskService.getTaskForm(task.getId());
  assertNotNull(taskForm);
}
