{
  Map<String,Object> vars=new HashMap<String,Object>();
  vars.put("inputVar","test");
  ProcessInstance pi=processService.startProcessInstanceByKey("testUserTaskLinkProperty",vars);
  Execution childExecution=processService.findChildExecutions(pi.getId()).get(0);
  assertEquals("test",processService.getVariable(childExecution.getId(),"taskVar"));
  assertEquals("test",processService.getVariable(childExecution.getId(),"inputVar"));
  String taskScopedExecutionId=childExecution.getId();
  processService.setVariable(taskScopedExecutionId,"taskVar","new_value");
  assertEquals("new_value",processService.getVariable(taskScopedExecutionId,"taskVar"));
  assertEquals("test",processService.getVariable(taskScopedExecutionId,"inputVar"));
  assertNull(processService.getVariable(pi.getId(),"taskVar"));
  taskService.complete(taskService.createTaskQuery().singleResult().getId());
  assertTrue(processService.findChildExecutions(pi.getId()).isEmpty());
  assertNull(processService.findExecutionById(taskScopedExecutionId));
  assertNull(processService.getVariable(pi.getId(),"taskVar"));
  assertEquals("new_value",processService.getVariable(pi.getId(),"inputVar"));
}
