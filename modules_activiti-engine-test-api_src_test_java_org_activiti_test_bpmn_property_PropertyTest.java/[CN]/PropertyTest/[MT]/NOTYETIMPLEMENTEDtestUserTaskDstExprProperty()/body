{
  deployProcessForThisTestMethod();
  Order order=new Order();
  Map<String,Object> vars=new HashMap<String,Object>();
  vars.put("order",order);
  ProcessInstance pi=processService.startProcessInstanceByKey("testUserTaskDstExprProperty",vars);
  List<Execution> childExecutions=processService.findChildExecutions(pi.getId());
  String childExecutionId=childExecutions.get(0).getId();
  vars=processService.getVariables(childExecutionId);
  assertEquals(1,vars.size());
  assertTrue(vars.containsKey("orderAddress"));
  vars=processService.getVariables(pi.getId());
  assertEquals(1,vars.size());
  assertTrue(vars.containsKey("order"));
  processService.setVariable(childExecutionId,"orderAddress","testAddress");
  taskService.complete(taskService.createTaskQuery().singleResult().getId());
  assertEquals(1,processService.getVariables(pi.getId()).size());
  Order orderAfterComplete=(Order)processService.getVariable(pi.getId(),"order");
  assertEquals("testAddress",orderAfterComplete.getAddress());
}
