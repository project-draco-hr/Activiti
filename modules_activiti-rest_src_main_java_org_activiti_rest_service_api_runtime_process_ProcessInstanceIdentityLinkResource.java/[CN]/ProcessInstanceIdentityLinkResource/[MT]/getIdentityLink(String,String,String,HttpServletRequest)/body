{
  ProcessInstance processInstance=getProcessInstanceFromRequest(processInstanceId);
  validateIdentityLinkArguments(identityId,type);
  String serverRootUrl=request.getRequestURL().toString();
  serverRootUrl=serverRootUrl.substring(0,serverRootUrl.indexOf("/runtime/process-instances/"));
  IdentityLink link=getIdentityLink(identityId,type,processInstance.getId());
  return restResponseFactory.createRestIdentityLink(link,serverRootUrl);
}
