{
  AttachmentRequest req=getConverterService().toObject(representation,AttachmentRequest.class,this);
  if (req.getName() == null) {
    throw new ActivitiIllegalArgumentException("Attachment name is required.");
  }
  Attachment createdAttachment=ActivitiUtil.getTaskService().createAttachment(req.getType(),task.getId(),null,req.getName(),req.getDescription(),req.getExternalUrl());
  return getApplication(ActivitiRestServicesApplication.class).getRestResponseFactory().createAttachmentResponse(this,createdAttachment);
}
