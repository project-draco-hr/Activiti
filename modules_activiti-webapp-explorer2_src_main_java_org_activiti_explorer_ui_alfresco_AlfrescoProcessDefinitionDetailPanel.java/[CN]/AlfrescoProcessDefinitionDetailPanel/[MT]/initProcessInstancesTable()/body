{
  ProcessInstanceTableLazyQuery lazyQuery=new ProcessInstanceTableLazyQuery(processDefinition.getId());
  Label instancesTitle=new Label(i18nManager.getMessage(Messages.PROCESS_INSTANCES) + " (" + lazyQuery.size()+ ")");
  instancesTitle.addStyleName(ExplorerLayout.STYLE_H3);
  instancesTitle.addStyleName(ExplorerLayout.STYLE_DETAIL_BLOCK);
  detailPanelLayout.addComponent(instancesTitle);
  if (lazyQuery.size() > 0) {
    Label emptySpace=new Label("&nbsp;",Label.CONTENT_XHTML);
    detailPanelLayout.addComponent(emptySpace);
    Table instancesTable=new Table();
    instancesTable.setHeight(250,UNITS_PIXELS);
    instancesTable.setWidth(400,UNITS_PIXELS);
    LazyLoadingContainer container=new LazyLoadingContainer(lazyQuery);
    instancesTable.setContainerDataSource(container);
    instancesTable.addContainerProperty(AlfrescoProcessInstanceTableItem.PROPERTY_ID,String.class,null);
    instancesTable.addContainerProperty(AlfrescoProcessInstanceTableItem.PROPERTY_BUSINESSKEY,String.class,null);
    instancesTable.addContainerProperty(AlfrescoProcessInstanceTableItem.PROPERTY_ACTIONS,Component.class,null);
    instancesTable.setColumnAlignment(AlfrescoProcessInstanceTableItem.PROPERTY_ACTIONS,Table.ALIGN_CENTER);
    instancesTable.setColumnHeader(AlfrescoProcessInstanceTableItem.PROPERTY_ID,i18nManager.getMessage(Messages.PROCESS_INSTANCE_ID));
    instancesTable.setColumnHeader(AlfrescoProcessInstanceTableItem.PROPERTY_BUSINESSKEY,i18nManager.getMessage(Messages.PROCESS_INSTANCE_BUSINESSKEY));
    instancesTable.setColumnHeader(AlfrescoProcessInstanceTableItem.PROPERTY_ACTIONS,i18nManager.getMessage(Messages.PROCESS_INSTANCE_ACTIONS));
    instancesTable.setEditable(false);
    instancesTable.setSelectable(true);
    instancesTable.setNullSelectionAllowed(false);
    instancesTable.setSortDisabled(true);
    detailPanelLayout.addComponent(instancesTable);
  }
 else {
    Label noInstances=new Label(i18nManager.getMessage(Messages.PROCESS_NO_INSTANCES));
    detailPanelLayout.addComponent(noInstances);
  }
}
