{
  Label processDefinitionHeader=new Label(ExplorerApplication.getCurrent().getMessage(Messages.JOB_HEADER_EXECUTION));
  processDefinitionHeader.addStyleName(ExplorerLayout.STYLE_JOB_DETAILS_HEADER);
  processDefinitionHeader.setWidth("95%");
  addComponent(processDefinitionHeader);
  VerticalLayout layout=new VerticalLayout();
  layout.setSpacing(true);
  layout.setSizeFull();
  addComponent(layout);
  ((VerticalLayout)getContent()).setExpandRatio(layout,1.0f);
  Label retrieslabel=new Label(getRetriesLabel(job));
  layout.addComponent(retrieslabel);
  if (job.getExceptionMessage() != null) {
    Label exceptionMessageLabel=new Label(ExplorerApplication.getCurrent().getMessage(Messages.JOB_ERROR) + ": " + job.getExceptionMessage());
    exceptionMessageLabel.addStyleName(ExplorerLayout.STYLE_JOB_EXCEPTION_MESSAGE);
    layout.addComponent(exceptionMessageLabel);
    String stack=managementService.getJobExceptionStacktrace(job.getId());
    Label stackTraceLabel=new Label(stack);
    stackTraceLabel.setContentMode(Label.CONTENT_PREFORMATTED);
    stackTraceLabel.addStyleName(ExplorerLayout.STYLE_JOB_EXCEPTION_TRACE);
    stackTraceLabel.setSizeFull();
    Panel stackPanel=new Panel();
    stackPanel.setWidth(100,UNITS_PERCENTAGE);
    stackPanel.setSizeFull();
    stackPanel.setScrollable(true);
    stackPanel.addComponent(stackTraceLabel);
    layout.addComponent(stackPanel);
    layout.setExpandRatio(stackPanel,1.0f);
  }
 else {
    Label noException=new Label(ExplorerApplication.getCurrent().getMessage(Messages.JOB_NOT_EXECUTED));
    noException.addStyleName(Reindeer.LABEL_SMALL);
    layout.addComponent(noException);
    layout.setExpandRatio(noException,1.0f);
  }
}
