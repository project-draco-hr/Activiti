{
  ArrayList<Shape> childShapes=diagram.getChildShapes();
  ArrayList<Shape> extractedChildShapes=new ArrayList<Shape>();
  Shape pool=null;
  for (  Shape childShape : childShapes) {
    if ("Pool".equals(childShape.getStencil().getId()) && poolName.equals(childShape.getProperty("name"))) {
      extractedChildShapes.add(childShape);
      pool=childShape;
      break;
    }
  }
  if (pool != null) {
    for (    Shape childShape : childShapes) {
      if ("SequenceFlow".equals(childShape.getStencil().getId()) && edgeIsContainedIn(childShape,pool)) {
        extractedChildShapes.add(childShape);
      }
    }
    diagram.setChildShapes(extractedChildShapes);
  }
 else {
  }
  return diagram;
}
