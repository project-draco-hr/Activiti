{
  List<PersistentObject> updatedObjects=new ArrayList<PersistentObject>();
  for (  LoadedObject loadedObject : loadedObjects.values()) {
    PersistentObject persistentObject=(PersistentObject)loadedObject.getPersistentObject();
    Object originalState=loadedObject.getPersistentObjectState();
    if (!originalState.equals(persistentObject.getPersistentState())) {
      updatedObjects.add(persistentObject);
    }
 else {
      log.finest("persistent object '" + persistentObject + "' was not updated");
    }
  }
  return updatedObjects;
}
