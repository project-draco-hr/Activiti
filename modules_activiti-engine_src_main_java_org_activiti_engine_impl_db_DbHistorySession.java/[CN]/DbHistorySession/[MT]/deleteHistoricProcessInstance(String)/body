{
  List<HistoricDetailEntity> historicDetails=(List)new HistoricDetailQueryImpl().processInstanceId(historicProcessInstanceId).executeList(CommandContext.getCurrent(),null);
  for (  HistoricDetailEntity historicDetail : historicDetails) {
    historicDetail.delete();
  }
  dbSqlSession.delete("deleteHistoricActivityInstancesByProcessInstanceId",historicProcessInstanceId);
  dbSqlSession.delete("deleteHistoricTaskInstancesByProcessInstanceId",historicProcessInstanceId);
  dbSqlSession.delete(HistoricProcessInstanceEntity.class,historicProcessInstanceId);
}
