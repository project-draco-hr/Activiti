{
  if (!authenticate()) {
    return;
  }
  Form query=getQuery();
  Boolean cascadeHistory=getQueryParameterAsBoolean("cascadeHistory",query);
  String deleteReason=getQueryParameter("deleteReason",query);
  Task taskToDelete=getTaskFromRequest();
  if (taskToDelete.getExecutionId() != null) {
    throw new ResourceException(new Status(Status.CLIENT_ERROR_FORBIDDEN.getCode(),"Cannot delete a task that is part of a process-instance.",null,null));
  }
  if (cascadeHistory != null) {
    ActivitiUtil.getTaskService().deleteTask(taskToDelete.getId(),cascadeHistory);
  }
 else {
    ActivitiUtil.getTaskService().deleteTask(taskToDelete.getId(),deleteReason);
  }
  getResponse().setStatus(Status.SUCCESS_NO_CONTENT);
}
