{
  if (!authenticate()) {
    return;
  }
  if (actionRequest == null) {
    throw new ResourceException(new Status(Status.CLIENT_ERROR_UNSUPPORTED_MEDIA_TYPE.getCode(),"A request body was expected when executing a task action.",null,null));
  }
  Task task=getTaskFromRequest();
  if (TaskActionRequest.ACTION_COMPLETE.equals(actionRequest.getAction())) {
    completeTask(task,actionRequest);
  }
 else   if (TaskActionRequest.ACTION_CLAIM.equals(actionRequest.getAction())) {
    claimTask(task,actionRequest);
  }
 else   if (TaskActionRequest.ACTION_DELEGATE.equals(actionRequest.getAction())) {
    delegateTask(task,actionRequest);
  }
 else   if (TaskActionRequest.ACTION_RESOLVE.equals(actionRequest.getAction())) {
    resolveTask(task,actionRequest);
  }
 else {
    throw new ActivitiIllegalArgumentException("Invalid action: '" + actionRequest.getAction() + "'.");
  }
}
