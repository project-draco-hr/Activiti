{
  for (Iterator<Map.Entry<Class<?>,List<ProcessEventConsumer<ProcessEvent>>>> it=consumers.entrySet().iterator(); it.hasNext(); ) {
    Map.Entry<Class<?>,List<ProcessEventConsumer<ProcessEvent>>> entry=it.next();
    List<ProcessEventConsumer<ProcessEvent>> consumerList=entry.getValue();
    if (consumerList.remove(consumer)) {
      if (consumerList.isEmpty()) {
        it.remove();
      }
    }
  }
}
