{
  UserEntity user=findUserById(userId);
  if (user != null) {
    if (user.getPictureByteArrayId() != null) {
      dbSqlSession.delete(ByteArrayEntity.class,user.getPictureByteArrayId());
    }
    List<IdentityInfoEntity> identityInfos=dbSqlSession.selectList("selectIdentityInfoByUserId",userId);
    for (    IdentityInfoEntity identityInfo : identityInfos) {
      deleteIdentityInfo(identityInfo);
    }
    dbSqlSession.delete("deleteMembershipsByUserId",userId);
    dbSqlSession.delete("deleteUser",userId);
  }
}
