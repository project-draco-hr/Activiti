{
  Process process=model.getMainProcess();
  assertNotNull(process.getAttributes());
  assertEquals(4,process.getAttributes().size());
  List<ExtensionAttribute> attributes=process.getAttributes().get("version");
  assertNotNull(attributes);
  assertEquals(1,attributes.size());
  ExtensionAttribute attribute=attributes.get(0);
  assertNotNull(attribute);
  assertEquals("http://custom.org/bpmn",attribute.getNamespace());
  assertEquals("custom",attribute.getNamespacePrefix());
  assertEquals("version",attribute.getName());
  assertEquals("9",attribute.getValue());
  FlowElement flowElement=model.getMainProcess().getFlowElement("usertask");
  assertNotNull(flowElement);
  assertTrue(flowElement instanceof UserTask);
  assertEquals("usertask",flowElement.getId());
  UserTask userTask=(UserTask)flowElement;
  assertEquals("usertask",userTask.getId());
  assertEquals("User Task",userTask.getName());
  Map<String,List<ExtensionAttribute>> attributesMap=userTask.getAttributes();
  assertNotNull(attributesMap);
  assertEquals(3,attributesMap.size());
  attributes=attributesMap.get("id");
  assertNotNull(attributes);
  assertEquals(2,attributes.size());
  boolean testResult=false;
  for (  ExtensionAttribute a : attributes) {
    assertNotNull(a);
    assertEquals("id",a.getName());
    if (a.getValue().equals("test")) {
      assertEquals("custom2",a.getNamespacePrefix());
      assertEquals("http://custom2.org/bpmn",a.getNamespace());
      testResult=true;
    }
  }
  assertTrue(testResult);
}
