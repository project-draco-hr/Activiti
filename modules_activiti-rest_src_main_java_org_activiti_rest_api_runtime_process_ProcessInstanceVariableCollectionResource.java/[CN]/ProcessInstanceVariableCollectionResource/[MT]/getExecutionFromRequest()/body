{
  String processInstanceId=getAttribute("processInstanceId");
  if (processInstanceId == null) {
    throw new ActivitiIllegalArgumentException("The processInstanceId cannot be null");
  }
  Execution execution=ActivitiUtil.getRuntimeService().createProcessInstanceQuery().processInstanceId(processInstanceId).singleResult();
  if (execution == null) {
    throw new ActivitiObjectNotFoundException("Could not find a process instance with id '" + processInstanceId + "'.",ProcessInstance.class);
  }
  return execution;
}
