{
  ValuedDataObject dObj=(ValuedDataObject)element;
  if (StringUtils.isNotEmpty(dObj.getId())) {
    if (didWriteExtensionStartElement == false) {
      xtw.writeStartElement(ELEMENT_EXTENSIONS);
      didWriteExtensionStartElement=true;
    }
    xtw.writeStartElement(ACTIVITI_EXTENSIONS_PREFIX,ELEMENT_DATA_VALUE,ACTIVITI_EXTENSIONS_NAMESPACE);
    if (dObj.getValue() != null) {
      String value=null;
      if (dObj instanceof DateDataObject) {
        DateTime dateTime=new DateTime((Date)dObj.getValue());
        value=ISODateTimeFormat.dateTimeNoMillis().print(dateTime);
      }
 else {
        value=dObj.getValue().toString();
      }
      xtw.writeCharacters(value);
    }
    xtw.writeEndElement();
    xtw.writeEndElement();
  }
}
