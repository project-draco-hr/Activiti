{
  List<DeleteOperation> deletedObjectsCopy=new ArrayList<DeleteOperation>(deleteOperations);
  for (  DeleteOperation deleteOperation : deletedObjectsCopy) {
    if (deleteOperation instanceof DeletePersistentObjectOperation) {
      DeletePersistentObjectOperation deletePersistentObjectOperation=(DeletePersistentObjectOperation)deleteOperation;
      PersistentObject insertedObject=findInsertedObject(deletePersistentObjectOperation.getPersistentObject().getClass(),deletePersistentObjectOperation.getPersistentObject().getId());
      if (insertedObject != null) {
        insertedObjects.remove(insertedObject);
        deleteOperations.remove(deleteOperation);
      }
      cacheRemove(deletePersistentObjectOperation.getPersistentObject().getClass(),deletePersistentObjectOperation.getPersistentObject().getId());
    }
  }
  for (  PersistentObject insertedObject : insertedObjects) {
    cacheRemove(insertedObject.getClass(),insertedObject.getId());
  }
}
