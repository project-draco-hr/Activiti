{
  List<DeleteOperation> deletedObjectsCopy=new ArrayList<DeleteOperation>(deleteOperations);
  for (  DeleteOperation deleteOperation : deletedObjectsCopy) {
    if (deleteOperation instanceof DeletePersistentObjectOperation) {
      PersistentObject deletedObject=((DeletePersistentObjectOperation)deleteOperation).getPersistentObject();
      PersistentObject insertedObject=findInsertedObject(deletedObject.getClass(),deletedObject.getId());
      if (insertedObject != null) {
        insertedObjects.remove(insertedObject);
        deleteOperations.remove(deleteOperation);
      }
      cacheRemove(deletedObject.getClass(),deletedObject.getId());
    }
  }
  for (  PersistentObject insertedObject : insertedObjects) {
    cacheRemove(insertedObject.getClass(),insertedObject.getId());
  }
}
