{
  log.info("upgrading activiti {} schema from {} to {}",component,dbVersion,ProcessEngine.VERSION);
  if (dbVersion.endsWith("-SNAPSHOT")) {
    dbVersion=dbVersion.substring(0,dbVersion.length() - "-SNAPSHOT".length());
  }
  int minorDbVersionNumber=Integer.parseInt(dbVersion.substring(2));
  String libraryVersion=ProcessEngine.VERSION;
  if (ProcessEngine.VERSION.endsWith("-SNAPSHOT")) {
    libraryVersion=ProcessEngine.VERSION.substring(0,ProcessEngine.VERSION.length() - "-SNAPSHOT".length());
  }
  int minorLibraryVersionNumber=Integer.parseInt(libraryVersion.substring(2));
  while (minorDbVersionNumber < minorLibraryVersionNumber) {
    executeSchemaResource("upgrade",component,getResourceForDbOperation("upgrade","upgradestep.5" + minorDbVersionNumber + ".to.5"+ (minorDbVersionNumber + 1),component),true);
    minorDbVersionNumber++;
  }
}
