{
  try {
    JdbcConnection connection=new JdbcConnection(sqlSession.getConnection());
    Database database=DatabaseFactory.getInstance().findCorrectDatabaseImplementation(connection);
    database.setDefaultSchemaName(this.connectionMetadataDefaultSchema);
    database.setAutoCommit(false);
    Liquibase liquibase=new Liquibase("org/activiti/db/liquibase/activiti-master.xml",new ClassLoaderResourceAccessor(),database);
    liquibase.getDatabase().setDatabaseChangeLogLockTableName("ACT_" + liquibase.getDatabase().getDatabaseChangeLogLockTableName());
    liquibase.getDatabase().setDatabaseChangeLogTableName("ACT_" + liquibase.getDatabase().getDatabaseChangeLogTableName());
    liquibase.update("production");
  }
 catch (  Exception e) {
    throw new ActivitiException("Error creating Activiti tables",e);
  }
}
