{
  ModelEntity model=findModelById(modelId);
  if (model != null) {
    ByteArrayEntity byteArrayValue=null;
    if (model.getEditorSourceValueId() != null) {
      Context.getCommandContext().getByteArrayEntityManager().deleteByteArrayById(model.getEditorSourceValueId());
    }
    if (modelSource != null) {
      byteArrayValue=new ByteArrayEntity(modelSource);
      Context.getCommandContext().getDbSqlSession().insert(byteArrayValue);
    }
    if (byteArrayValue != null) {
      model.setEditorSourceValueId(byteArrayValue.getId());
      updateModel(model);
    }
  }
}
