{
  form.getFormFieldVisibility().addShowFieldElement(AlfrescoConversionConstants.PROPERTY_PACKAGEITEMS);
  form.getFormAppearance().addFormField(AlfrescoConversionConstants.PROPERTY_PACKAGEITEMS,null,formSet);
  if (!form.isStartForm()) {
    boolean allowAddingItems=extractBooleanFromParameters(referenceDefinition.getParameters(),AlfrescoConversionConstants.PARAMETER_PACKAGEITEMS_ALLOW_ADD,true);
    boolean allowRemovingItems=extractBooleanFromParameters(referenceDefinition.getParameters(),AlfrescoConversionConstants.PARAMETER_PACKAGEITEMS_ALLOW_REMOVE,true);
    if (allowAddingItems) {
      M2PropertyOverride addOverride=new M2PropertyOverride();
      addOverride.setName(AlfrescoConversionConstants.PROPERTY_PACKAGEITEMS_ACTION_GROUP);
      addOverride.setDefaultValue(AlfrescoConversionConstants.PROPERTY_PACKAGEITEMS_ACTION_GROUP_ADD);
      contentType.getPropertyOverrides().add(addOverride);
    }
    M2PropertyOverride addOverride=new M2PropertyOverride();
    contentType.getPropertyOverrides().add(addOverride);
    if (allowRemovingItems) {
      addOverride.setName(AlfrescoConversionConstants.PROPERTY_PACKAGEITEMS_ITEM_ACTION_GROUP);
      addOverride.setDefaultValue(AlfrescoConversionConstants.PROPERTY_PACKAGEITEMS_ITEM_ACTION_GROUP_REMOVE);
    }
 else {
      addOverride.setName(AlfrescoConversionConstants.PROPERTY_PACKAGEITEMS_ITEM_ACTION_GROUP);
      addOverride.setDefaultValue(AlfrescoConversionConstants.PROPERTY_PACKAGEITEMS_ITEM_ACTION_GROUP_EDIT);
    }
  }
}
