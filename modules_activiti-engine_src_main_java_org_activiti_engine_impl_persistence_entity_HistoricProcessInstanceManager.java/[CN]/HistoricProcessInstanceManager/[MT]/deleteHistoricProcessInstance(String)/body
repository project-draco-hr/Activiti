{
  CommandContext commandContext=Context.getCommandContext();
  commandContext.getHistoricDetailManager().deleteHistoricDetailsByProcessInstanceId(historicProcessInstanceId);
  commandContext.getHistoricActivityInstanceManager().deleteHistoricActivityInstancesByProcessInstanceId(historicProcessInstanceId);
  commandContext.getHistoricTaskInstanceManager().deleteHistoricTaskInstancesByProcessInstanceId(historicProcessInstanceId);
  if (historyLevel > ProcessEngineConfigurationImpl.HISTORYLEVEL_NONE) {
    getPersistenceSession().delete(HistoricProcessInstanceEntity.class,historicProcessInstanceId);
  }
}
