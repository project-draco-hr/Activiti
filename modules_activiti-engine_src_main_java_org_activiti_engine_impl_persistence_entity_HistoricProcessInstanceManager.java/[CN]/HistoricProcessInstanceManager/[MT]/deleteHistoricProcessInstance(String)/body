{
  if (historyLevel > ProcessEngineConfigurationImpl.HISTORYLEVEL_NONE) {
    CommandContext commandContext=Context.getCommandContext();
    commandContext.getHistoricDetailManager().deleteHistoricDetailsByProcessInstanceId(historicProcessInstanceId);
    commandContext.getHistoricActivityInstanceManager().deleteHistoricActivityInstancesByProcessInstanceId(historicProcessInstanceId);
    commandContext.getHistoricTaskInstanceManager().deleteHistoricTaskInstancesByProcessInstanceId(historicProcessInstanceId);
    getPersistenceSession().delete(HistoricProcessInstanceEntity.class,historicProcessInstanceId);
  }
}
