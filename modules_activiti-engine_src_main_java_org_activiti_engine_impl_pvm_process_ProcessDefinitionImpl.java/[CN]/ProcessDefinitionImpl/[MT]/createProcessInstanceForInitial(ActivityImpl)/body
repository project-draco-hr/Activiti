{
  InterpretableExecution processInstance=newProcessInstance();
  processInstance.setProcessDefinition(this);
  processInstance.setProcessInstance(processInstance);
  processInstance.initialize();
  InterpretableExecution scopeInstance=processInstance;
  ArrayList<ActivityImpl> initialActivityStack=new ArrayList<ActivityImpl>();
  ActivityImpl activity=startActivity;
  while (activity != null) {
    initialActivityStack.add(0,activity);
    activity=activity.getParentActivity();
  }
  for (  ActivityImpl initialActivity : initialActivityStack) {
    if (initialActivity.isScope()) {
      scopeInstance=(InterpretableExecution)scopeInstance.createExecution();
      scopeInstance.setActivity(initialActivity);
      if (initialActivity.isScope()) {
        scopeInstance.initialize();
      }
    }
  }
  scopeInstance.setActivity(startActivity);
  return processInstance;
}
