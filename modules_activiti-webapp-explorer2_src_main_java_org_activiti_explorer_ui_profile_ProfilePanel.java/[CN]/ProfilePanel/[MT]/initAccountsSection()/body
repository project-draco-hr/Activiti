{
  Label header=createProfileHeader(infoPanelLayout,i18nManager.getMessage(Messages.PROFILE_ACCOUNTS));
  header.addStyleName(ExplorerLayout.STYLE_H3);
  header.addStyleName(ExplorerLayout.STYLE_DETAIL_BLOCK);
  infoPanelLayout.addComponent(header);
  accountLayout=createInfoSectionLayout(4,2);
  populateAccounts();
  Button addAccountButton=new Button(i18nManager.getMessage(Messages.PROFILE_ADD_ACCOUNT));
  addAccountButton.addStyleName(Reindeer.BUTTON_SMALL);
  infoPanelLayout.addComponent(addAccountButton);
  addAccountButton.addListener(new ClickListener(){
    public void buttonClick(    ClickEvent event){
      AccountSelectionPopup popup=new AccountSelectionPopup(i18nManager.getMessage(Messages.PROFILE_ADD_ACCOUNT));
      popup.addListener(new SubmitEventListener(){
        @SuppressWarnings("unchecked") protected void submitted(        SubmitEvent event){
          Map<String,Object> accountDetails=(Map<String,Object>)event.getData();
          identityService.setUserAccount(userId,ExplorerApp.get().getLoggedInUser().getPassword(),(String)accountDetails.get("accountName"),(String)accountDetails.get("userName"),(String)accountDetails.get("password"),(Map<String,String>)accountDetails.get("additional"));
          refreshAccounts();
        }
        protected void cancelled(        SubmitEvent event){
        }
      }
);
      viewManager.showPopupWindow(popup);
    }
  }
);
}
