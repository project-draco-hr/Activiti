{
  String propertyName=null;
  String eventType=null;
  String listenerClass=null;
  String listenerExpression=null;
  String listenerDelegateExpression=null;
  if (isExecutionListener) {
    propertyName=PROPERTY_EXECUTION_LISTENERS;
    eventType=PROPERTY_EXECUTION_LISTENER_EVENT;
    listenerClass=PROPERTY_EXECUTION_LISTENER_CLASS;
    listenerExpression=PROPERTY_EXECUTION_LISTENER_EXPRESSION;
    listenerDelegateExpression=PROPERTY_EXECUTION_LISTENER_DELEGATEEXPRESSION;
  }
 else {
    propertyName=PROPERTY_TASK_LISTENERS;
    eventType=PROPERTY_TASK_LISTENER_EVENT;
    listenerClass=PROPERTY_TASK_LISTENER_CLASS;
    listenerExpression=PROPERTY_TASK_LISTENER_EXPRESSION;
    listenerDelegateExpression=PROPERTY_TASK_LISTENER_DELEGATEEXPRESSION;
  }
  ObjectNode listenersNode=objectMapper.createObjectNode();
  ArrayNode itemsNode=objectMapper.createArrayNode();
  for (  ActivitiListener listener : listeners) {
    ObjectNode propertyItemNode=objectMapper.createObjectNode();
    propertyItemNode.put(eventType,listener.getEvent());
    if (ImplementationType.IMPLEMENTATION_TYPE_CLASS.equals(listener.getImplementationType())) {
      propertyItemNode.put(listenerClass,listener.getImplementation());
      addFieldExtensions(listener.getFieldExtensions(),propertyItemNode,isExecutionListener);
    }
 else     if (ImplementationType.IMPLEMENTATION_TYPE_EXPRESSION.equals(listener.getImplementationType())) {
      propertyItemNode.put(listenerExpression,listener.getImplementation());
    }
 else     if (ImplementationType.IMPLEMENTATION_TYPE_DELEGATEEXPRESSION.equals(listener.getImplementationType())) {
      propertyItemNode.put(listenerDelegateExpression,listener.getImplementation());
    }
    itemsNode.add(propertyItemNode);
  }
  listenersNode.put("totalCount",itemsNode.size());
  listenersNode.put(EDITOR_PROPERTIES_GENERAL_ITEMS,itemsNode);
  propertiesNode.put(propertyName,listenersNode);
}
