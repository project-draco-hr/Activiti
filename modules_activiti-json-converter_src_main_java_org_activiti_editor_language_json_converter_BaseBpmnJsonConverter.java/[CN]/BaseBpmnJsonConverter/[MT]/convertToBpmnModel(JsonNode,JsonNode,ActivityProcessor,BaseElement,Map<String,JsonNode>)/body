{
  this.processor=processor;
  FlowElement flowElement=convertJsonToElement(elementNode,modelNode,shapeMap);
  flowElement.setId(BpmnJsonConverterUtil.getElementId(elementNode));
  flowElement.setName(getPropertyValueAsString(PROPERTY_NAME,elementNode));
  flowElement.setDocumentation(getPropertyValueAsString(PROPERTY_DOCUMENTATION,elementNode));
  convertJsonToListeners(elementNode,flowElement);
  if (flowElement instanceof Activity) {
    Activity activity=(Activity)flowElement;
    activity.setAsynchronous(getPropertyValueAsBoolean(PROPERTY_ASYNCHRONOUS,elementNode));
    activity.setNotExclusive(!getPropertyValueAsBoolean(PROPERTY_EXCLUSIVE,elementNode));
    String multiInstanceCardinality=getPropertyValueAsString(PROPERTY_MULTIINSTANCE_CARDINALITY,elementNode);
    String multiInstanceCollection=getPropertyValueAsString(PROPERTY_MULTIINSTANCE_COLLECTION,elementNode);
    String multiInstanceCondition=getPropertyValueAsString(PROPERTY_MULTIINSTANCE_CONDITION,elementNode);
    String multiInstanceLoopType=getPropertyValueAsString(PROPERTY_MULTIINSTANCE_LOOP_TYPE,elementNode);
    if (StringUtils.isNotEmpty(multiInstanceCardinality) || StringUtils.isNotEmpty(multiInstanceCollection) || StringUtils.isNotEmpty(multiInstanceCondition)|| StringUtils.isNotEmpty(multiInstanceLoopType)) {
      String multiInstanceVariable=getPropertyValueAsString(PROPERTY_MULTIINSTANCE_VARIABLE,elementNode);
      MultiInstanceLoopCharacteristics multiInstanceObject=new MultiInstanceLoopCharacteristics();
      multiInstanceObject.setSequential(getPropertyValueAsBoolean(PROPERTY_MULTIINSTANCE_SEQUENTIAL,elementNode));
      if (multiInstanceLoopType != null) {
        if (PROPERTY_MULTIINSTANCE_LOOP_TYPE_SEQUENTIAL.equals(multiInstanceLoopType)) {
          multiInstanceObject.setSequential(true);
        }
 else         if (PROPERTY_MULTIINSTANCE_LOOP_TYPE_PARALLEL.equals(multiInstanceLoopType)) {
          multiInstanceObject.setSequential(false);
        }
      }
      multiInstanceObject.setLoopCardinality(multiInstanceCardinality);
      multiInstanceObject.setInputDataItem(multiInstanceCollection);
      multiInstanceObject.setElementVariable(multiInstanceVariable);
      multiInstanceObject.setCompletionCondition(multiInstanceCondition);
      activity.setLoopCharacteristics(multiInstanceObject);
    }
  }
  if (parentElement instanceof Process) {
    ((Process)parentElement).addFlowElement(flowElement);
  }
 else   if (parentElement instanceof SubProcess) {
    ((SubProcess)parentElement).addFlowElement(flowElement);
  }
 else   if (parentElement instanceof Lane) {
    Lane lane=(Lane)parentElement;
    lane.getFlowReferences().add(flowElement.getId());
    lane.getParentProcess().addFlowElement(flowElement);
  }
}
