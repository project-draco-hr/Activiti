{
  Class<?> implClass=null;
  try {
    if (classLoader == null) {
      implClass=Class.forName(implClassName);
    }
 else {
      implClass=classLoader.loadClass(implClassName);
    }
    return (ExpressionFactory)implClass.newInstance();
  }
 catch (  ClassNotFoundException cnfe) {
    throw new ActivitiException("ExpressionFactory class not found:" + implClassName,cnfe);
  }
catch (  InstantiationException ie) {
    throw new ActivitiException("Failed to instantiate ExpressionFactory: " + implClassName,ie);
  }
catch (  IllegalAccessException iae) {
    throw new ActivitiException("Failed to instantiate ExpressionFactory, illegal access: " + implClassName,iae);
  }
}
