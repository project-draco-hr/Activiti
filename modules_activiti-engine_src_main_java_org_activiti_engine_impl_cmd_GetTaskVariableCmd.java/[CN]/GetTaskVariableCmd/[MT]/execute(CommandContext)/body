{
  if (taskId == null) {
    throw new ActivitiIllegalArgumentException("taskId is null");
  }
  if (variableName == null) {
    throw new ActivitiIllegalArgumentException("variableName is null");
  }
  TaskEntity task=Context.getCommandContext().getTaskEntityManager().findTaskById(taskId);
  if (task == null) {
    throw new ActivitiObjectNotFoundException("task " + taskId + " doesn't exist",Task.class);
  }
  Object value;
  if (isLocal) {
    value=task.getVariableLocal(variableName);
  }
 else {
    value=task.getVariable(variableName);
  }
  return value;
}
