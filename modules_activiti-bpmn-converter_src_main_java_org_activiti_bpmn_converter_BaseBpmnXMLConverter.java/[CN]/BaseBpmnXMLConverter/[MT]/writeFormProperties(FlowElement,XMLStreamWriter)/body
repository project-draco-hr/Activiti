{
  List<FormProperty> propertyList=null;
  if (flowElement instanceof UserTask) {
    propertyList=((UserTask)flowElement).getFormProperties();
  }
 else   if (flowElement instanceof StartEvent) {
    propertyList=((StartEvent)flowElement).getFormProperties();
  }
  if (propertyList != null) {
    for (    FormProperty property : propertyList) {
      if (StringUtils.isNotEmpty(property.getId())) {
        if (didWriteExtensionStartElement == false) {
          xtw.writeStartElement(ELEMENT_EXTENSIONS);
          didWriteExtensionStartElement=true;
        }
        xtw.writeStartElement(ACTIVITI_EXTENSIONS_PREFIX,ELEMENT_FORMPROPERTY,ACTIVITI_EXTENSIONS_NAMESPACE);
        writeDefaultAttribute(ATTRIBUTE_FORM_ID,property.getId(),xtw);
        writeDefaultAttribute(ATTRIBUTE_FORM_NAME,property.getName(),xtw);
        writeDefaultAttribute(ATTRIBUTE_FORM_TYPE,property.getType(),xtw);
        writeDefaultAttribute(ATTRIBUTE_FORM_EXPRESSION,property.getExpression(),xtw);
        writeDefaultAttribute(ATTRIBUTE_FORM_VARIABLE,property.getVariable(),xtw);
        xtw.writeEndElement();
      }
    }
  }
}
